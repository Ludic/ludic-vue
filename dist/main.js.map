{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3f55e21d83658dc7b800","webpack:///./src/components/ludicAppComponent.vue","webpack:///ludicAppComponent.vue","webpack:///../ludic/dist/main.js","webpack:///./src/components/ludicAppComponent.vue?a384","webpack:///./~/css-loader/lib/css-base.js","webpack:///./src/components/ludicAppComponent.vue?0abb","webpack:///./~/vue-style-loader/addStyles.js","webpack:///./src/components/ludicAppComponent.vue?f4e4","webpack:///(webpack)/buildin/module.js","webpack:///./src/main.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","a","i","modules","installedModules","__webpack_require__","moduleId","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_config","canvas","dimension","console","log","Util","convertHex","hex","opacity","replace","r","parseInt","substring","g","b","result","myRound","val","places","Math","round","using","self","ns","pattern","logNames","logValues","undefined","RegExp","match","extend","arguments","HTMLElement","setConfig","config","configure","getConfig","readConfig","scope","param","def","params","split","resolve","setParam","prop","e","configureConsole","_log","Ludic","extensions","__WEBPACK_IMPORTED_MODULE_0__util_util__","Canvas","setupCanvas","focus","canvasConfig","document","querySelector","warn","setAttribute","getAttribute","setElement","resize","el","width","window","innerWidth","height","innerHeight","getElement","addEventListener","apply","removeEventListener","getContext","clear","clearColor","context","fillStyle","clearRect","fillRect","HUDElement","render","delta","Asset","url","type","options","load","onload","reject","_this","onAssetResolve","am","onAssetReject","destroy","data","__WEBPACK_IMPORTED_MODULE_0__imageAssetLoader__","AssetManager","assets","loadQueue","promiseQueue","loaders","addLoader","loadResource","overwrite","promise","asset","NewAsset","push","loading","then","bind","getAsset","getImage","getData","Promise","reason","isLoading","step","_arguments","finalPromise","all","assetsLoaded","shift","onAssetsLoadedCallback","setOnAssetsLoadedCallback","callback","loader","destroyAsset","fileTypes","_this2","forEach","__WEBPACK_IMPORTED_MODULE_1__engine_Vector2__","__WEBPACK_IMPORTED_MODULE_2_components_canvas_canvas__","__WEBPACK_IMPORTED_MODULE_3_components_app_ludic__","DEFAULT_PTM","DEFAULTS","inverseY","inverseX","x","y","ptm","Camera","assign","option","canva","Array","slice","_arguments2","_width","_height","viewCenterPixel","singleWorldPoint","singlePixelPoint","offset","futurePos","updateEnvironmentVariables","camera","getCanvas","draw","ctx","setTransform","drawAxes","strokeStyle","beginPath","moveTo","lineTo","stroke","setChaseEntity","ent","chaseMethod","chaseEntity","setChaseMethod","getWorldPointFromPixelPoint","pixelPoint","_getWorldPointFromPixelPoint_x","_getWorldPointFromPixelPoint_y","getPixelPointFromWorldPoint","worldPoint","_getPixelPointFromWorldPoint_x","_getPixelPointFromWorldPoint_y","setViewCenterWorld","vector2","instantaneous","fraction","currentViewCenterWorld","getViewCenterWorld","toMove","get_x","get_y","moveCenterBy","centerWorldToCamera","setOffset","centerWorldToTopLeft","getViewCenterPixel","getViewportBounds","bounds","w","h","getPTM","setPTM","getOffset","getOffsetX","getOffsetY","translate","scale","lineWidth","resetTransform","__WEBPACK_IMPORTED_MODULE_0__asset__","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","ImageAsset","_Asset","getPrototypeOf","Image","src","Vector2","__WEBPACK_IMPORTED_MODULE_1__keyCodeMap__","listeners","defaultKeyConfig","preventDefault","ps4Mapping","buttons","axes","sticks","lx","ly","rx","ry","gamepadMaps","gamepadsAxisDeadZone","gamepadsConfig","mousePosPixel","prevMousePosPixel","InputController","initKeys","initMouse","initGamepads","addInputListener","listener","newInputListener","binder","alsoAdd","InputEventListener","removeInputListener","ix","indexOf","splice","allKeys","evt","onKeyEvent","down","dir","keyCode","logAllKeys","enabled","cfg","keyConfig","isArray","keys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","next","done","_key2","modifiers","direction","method","_once","shiftKey","altKey","ctrlKey","_execCommand","once","err","return","stopPropagation","_len","args","_key3","_listener$method","concat","onMouseEvent","updateMousePos","bndr","rect","getBoundingClientRect","clientX","left","clientY","top","gamepads","lastButtonStates","lastAxisStates","gamepad","index","id","getGamepads","gps","navigator","gp","update","_stepGamepads","_this3","lastState","getLastState","pressed","gamepadButtonEvent","setLastState","axis","dz","getDeadZone","getLastAxisState","gamepadAxisEvent","zeroed","gpIndex","setLastAxisState","state","gamepadIndex","deadZone","setDeadZone","button","onGamepadButtonEvent","GamepadButtonEvent","func","keyIdentifier","getGamepadMap","gamepadId","axisIndex","gpMap","stick","GamepadAxisEvent","values","getValueByAxisId","onGamepadAxis","stripModifiers","mods","ret","mod","importKeyConfig","_loop","_key4","_key","map","conf","_loadListener","methods","$enable","$disable","avail","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_key5","code","Number","isNaN","_code","arr","start","select","home","right","up","l1","l2","l3","r1","r2","r3","triangle","square","circle","cross","extra","leftStick","event","rightStick","Gamepad","axisId","__WEBPACK_IMPORTED_MODULE_0_components_util_privateProperty__","_stack","_listeners","ScreenManager","idIncrementer","getNewId","set","Proxy","ScreenEventListener","_e$prop","stack","screen","_isFinished","onScreenFinished","_finalData","addScreen","$manager","$id","onAddedToManager","onScreenAdded","popScreen","pop","onRemovedFromManager","onScreensRemoved","onWarnPopScreen","popToScreen","findIndex","screensRemoved","reverse","addScreenEventListener","getNewScreenEventListener","manager","replaced","__WEBPACK_IMPORTED_MODULE_0__base_assetManager__","RIGHT","LEFT","BaseSprite","image","framesX","framesY","offsetX","offsetY","frames","frameWidth","frameHeight","totalFrames","scaleToWidth","currentFrameIndex","parseSpriteSheet","setFrame","frame","sx","sy","animate","frameIndex","setPosition","pos","setUseShadow","use","useShadow","setDirection","drawWidth","drawHeight","scaleToHeight","_scale","save","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawImage","restore","__WEBPACK_IMPORTED_MODULE_0__HUDElement__","valid_positions_x","valid_positions_y","Dialog","_HUDElement","_ref","_ref$x","_ref$y","_ref$width","_ref$height","_ref$position","position","_ref$positionX","positionX","_ref$positionY","positionY","_ref$offset","_ref$offsetX","_ref$offsetY","_ref$backgroundColor","backgroundColor","_ref$textColor","textColor","_ref$title","title","_ref$visible","visible","_ref$borderColor","borderColor","_ref$borderWidth","borderWidth","_x","_y","__calcPosition","show","getPosition","_drawBorder","_drawBackground","font","fillText","bw","closePath","hide","toggle","_positionX","_positionY","c_width","c_height","__getXfromPositionX","__getYfromPositionY","__validatePositionX","posX","__validatePositionY","posY","_offsetX","_offsetY","_ref2","positions","__WEBPACK_IMPORTED_MODULE_0__canvas_canvas__","__WEBPACK_IMPORTED_MODULE_1__base_camera__","__WEBPACK_IMPORTED_MODULE_2__util_util__","__WEBPACK_IMPORTED_MODULE_3__screen_screenManager__","__WEBPACK_IMPORTED_MODULE_4__ludic__","__WEBPACK_IMPORTED_MODULE_5__input_inputController__","LudicApp","screenManager","input","util","devmode","running","lastTime","Date","now","_requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","_animate","time","_time","pause","run","updateFunction","timeTotal","averageArray","period","average","onmessage","postMessage","path","reduce","prev","curr","Path2D","arc","ellipse","Screen","rest","finish","onDestroy","__WEBPACK_IMPORTED_MODULE_0__BaseSprite__","_get","receiver","Function","desc","getOwnPropertyDescriptor","parent","MultiSprite","_BaseSprite","createSlice","count","_ix","end","slices","createState","sliceName","states","setSlice","optScale","fl","df","floor","setState","axesLength","HUD","$refs","elements","addElement","element","ref","__WEBPACK_IMPORTED_MODULE_0__Dialog__","__WEBPACK_IMPORTED_MODULE_1__app_ludic__","MenuDialog","_Dialog","menuItems","item","addMenuItem","MenuItem","newEventListener","selectPreviousItem","selectNextItem","toggleMenuOpen","selectedItemIndex","selectItem","selectedItem","deselect","keyDown","text","selected","Text","_ref$fontFamily","fontFamily","_ref$fontSize","fontSize","_ref$fontSizeUnit","fontSizeUnit","_ref$color","color","_ref$drawStyle","drawStyle","_ref$adjustOrigin","adjustOrigin","_adjustOrigin","setFontSize","__fontSize","strokeText","_fontSize","setPositionX","setPositionY","unit","parseFloat","classTypeOf","typeToCheck","__WEBPACK_IMPORTED_MODULE_0__imageAsset__","ImageAssetLoader","_toConsumableArray","arr2","from","PrivateProperty","weakMap","WeakMap","ctor","_weakMap","setArgs","__WEBPACK_IMPORTED_MODULE_2__components_app_LudicApp__","__WEBPACK_IMPORTED_MODULE_3__components_app_ludic__","__WEBPACK_IMPORTED_MODULE_4__components_base_asset__","__WEBPACK_IMPORTED_MODULE_5__components_base_assetManager__","__WEBPACK_IMPORTED_MODULE_6__components_base_camera__","__WEBPACK_IMPORTED_MODULE_7__components_base_fps__","__WEBPACK_IMPORTED_MODULE_7__components_base_fps___default","__WEBPACK_IMPORTED_MODULE_8__components_base_imageAsset__","__WEBPACK_IMPORTED_MODULE_9__components_canvas_canvas__","__WEBPACK_IMPORTED_MODULE_10__components_input_inputController__","__WEBPACK_IMPORTED_MODULE_0__components_patches_path2D__","__WEBPACK_IMPORTED_MODULE_0__components_patches_path2D___default","__WEBPACK_IMPORTED_MODULE_1__components_patches_object__","__WEBPACK_IMPORTED_MODULE_1__components_patches_object___default","__WEBPACK_IMPORTED_MODULE_11__components_screen_screen__","__WEBPACK_IMPORTED_MODULE_12__components_screen_screenManager__","__WEBPACK_IMPORTED_MODULE_13__components_sprite_BaseSprite__","__WEBPACK_IMPORTED_MODULE_14__components_sprite_MultiSprite__","__WEBPACK_IMPORTED_MODULE_15__components_ui_Hud__","__WEBPACK_IMPORTED_MODULE_16__components_ui_HUDElement__","__WEBPACK_IMPORTED_MODULE_17__components_ui_Text__","__WEBPACK_IMPORTED_MODULE_18__components_ui_Dialog__","__WEBPACK_IMPORTED_MODULE_19__components_ui_MenuDialog__","__WEBPACK_IMPORTED_MODULE_20__components_util_util__","__WEBPACK_IMPORTED_MODULE_21__components_util_utilities__","__WEBPACK_IMPORTED_MODULE_22__components_engine_Vector2__","LudicVue","Vue","component"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,mDAAmD,IAAI;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD,iCAAiC;;AAEjC;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;QAEA;;AAEA;AACA;0BACA;AACA;uBACA;AACA;8BAEA;;AACA;AACA;oCACA;qCACA;AACA;uCACA;AACA;sCAEA;AAjBA;SAkBA;;qBAIA;AAHA;AAIA;;UAEA;;AAEA;uBACA;AAFA,kCAGA;AAEA;AAPA;YAQA;kCACA;iCACA;qBACA;yBACA;AACA;AACA;;2BAEA;uBACA;uBACA;aACA;4BACA;AACA;AAEA;AARA;AAzCA,E;;;;;;;;ACXA,CAAC,SAASA,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;AACzD,MAAG,iCAAOC,OAAP,OAAmB,QAAnB,IAA+B,iCAAOC,MAAP,OAAkB,QAApD,EACCA,OAAOD,OAAP,GAAiBD,SAAjB,CADD,KAEK,IAAG,IAAH,EACJ,iCAAO,EAAP,oCAAWA,OAAX;AAAA;AAAA;AAAA,qGADI,KAEA;AACJ,QAAIG,IAAIH,SAAR;AACA,SAAI,IAAII,CAAR,IAAaD,CAAb;AAAgB,O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;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvNA;;AAEA;AACA;AACA;AACA;AACA,+CAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;;;ACrBA;;IACqBC,Q;;;;;;;4BACJC,G,EAAI;AACjBA,UAAIC,SAAJ,CAAc,WAAd,EAA2B,qEAA3B;AACD;;;;;;8DAHkBF,Q","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3f55e21d83658dc7b800","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-f08948b0!vue-loader/lib/selector?type=styles&index=0!./ludicAppComponent.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./ludicAppComponent.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-f08948b0!vue-loader/lib/selector?type=template&index=0!./ludicAppComponent.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\nif (Object.keys(__vue_exports__).some(function (key) { return key !== \"default\" && key !== \"__esModule\" })) {console.error(\"named exports are not supported in *.vue files.\")}\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.__file = \"/Users/derek/dev/ludic/ludic-vue/src/components/ludicAppComponent.vue\"\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-f08948b0\", __vue_options__)\n  } else {\n    hotAPI.reload(\"data-v-f08948b0\", __vue_options__)\n  }\n})()}\nif (__vue_options__.functional) {console.error(\"[vue-loader] ludicAppComponent.vue: functional components are not supported and should be defined in plain js files using render functions.\")}\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ludicAppComponent.vue\n// module id = 0\n// module chunks = 0","<template lang=\"html\">\n  <div class=\"ludic-app-container\">\n    <slot>\n      <canvas ref=\"canvas\" id=\"ludic-canvas\" class=\"ludic-canvas\" :width=\"width\" :height=\"height\" :tabindex=\"tabindex\"></canvas>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport {LudicApp} from 'ludic'\nexport default {\n  name: \"LudicAppComponent\",\n  props: {\n    /* LudicApp properties */\n    // optionally pass a sub-classed LudicApp class to be instantiated\n    app: {default: ()=>LudicApp},\n    // optionally pass an update function to be used by the LudicApp\n    update: {default: undefined},\n    // optionally pass config options to be used by the LudicApp constructor\n    config: {default: ()=>{}},\n\n    /* ludic-app-container properties */\n    // width and height of the canvas in the container\n    width: {type: Number, default: 600},\n    height: {type: Number, default: 338},\n    // optionally set the tabindex used by the canvas element\n    tabindex: {type: String, default: '1'},\n    // optionally choose not to automatically run the app after its instantiated\n    runApp: {type: Boolean, default: true},\n  },\n  data(){\n    return {\n      defaultConfig: {\n      },\n    }\n  },\n  computed: {\n    cfg(){\n      return Object.assign({\n        // 'el' can be a selector or the HTMLElement itself\n        el: this.$refs.canvas,\n      },this.defaultConfig,this.config)\n    },\n  },\n  mounted(){\n    this._app = new this.app(this.cfg);\n    this.$emit('app-ready', this._app);\n    if(this.runApp){\n      this._app.run(this.defaultUpdate);\n    }\n  },\n  methods: {\n    defaultUpdate(...args){\n      if(this.update){\n        this.update(...args);\n      } else {\n        this._app.update(...args)\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"css\">\n.ludic-canvas {\n  display: block;\n  margin: auto;\n  outline: none;\n  border: 1px solid black;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ludicAppComponent.vue?3de0c2e1","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _config = {\n  canvas: {\n    dimension: '2d'\n  },\n  console: {\n    log: true\n  }\n};\n\nvar Util = function () {\n  function Util() {\n    _classCallCheck(this, Util);\n  }\n\n  _createClass(Util, null, [{\n    key: 'convertHex',\n    value: function convertHex(hex, opacity) {\n      hex = hex.replace('#', '');\n      var r = parseInt(hex.substring(0, 2), 16);\n      var g = parseInt(hex.substring(2, 4), 16);\n      var b = parseInt(hex.substring(4, 6), 16);\n\n      var result = 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')';\n      return result;\n    }\n  }, {\n    key: 'myRound',\n    value: function myRound(val, places) {\n      var c = 1;\n      for (var i = 0; i < places; i++) {\n        c *= 10;\n      }return Math.round(val * c) / c;\n    }\n  }, {\n    key: 'using',\n    value: function using(self, ns, pattern, logNames, logValues) {\n      self = self || this;\n      if (pattern == undefined) {\n        // import all\n        for (var name in ns) {\n          if (!logNames) {\n            self[name] = ns[name];\n          } else {\n            console.log(name, logValues ? ns[name] : '');\n          }\n        }\n      } else {\n        if (typeof pattern == 'string') {\n          pattern = new RegExp(pattern);\n        }\n        // import only stuff matching given pattern\n        for (var name in ns) {\n          if (name.match(pattern)) {\n            if (!logNames) {\n              self[name] = ns[name];\n            } else {\n              console.log(name, logValues ? ns[name] : '');\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'extend',\n    value: function extend() {\n      for (var i = 1; i < arguments.length; i++) {\n\n        if (_typeof(arguments[i]) === 'object' && !(arguments[i] instanceof HTMLElement)) {\n          for (var key in arguments[i]) {\n            if (arguments[i].hasOwnProperty(key)) {\n              arguments[0] = arguments[0] || {};\n              var obj = this.extend(arguments[0][key], arguments[i][key]);\n              arguments[0][key] = obj;\n            }\n          }\n        } else {\n          arguments[0] = arguments[i];\n        }\n      }\n      return arguments[0];\n    }\n  }, {\n    key: 'setConfig',\n    value: function setConfig(config) {\n      _config = this.extend(_config, config);\n      this.configure();\n    }\n  }, {\n    key: 'getConfig',\n    value: function getConfig() {\n      return _config;\n    }\n  }, {\n    key: 'readConfig',\n    value: function readConfig(scope) {\n      var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var def = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var params = param ? param.split('.') : [];\n      var obj = _config[scope];\n\n      obj = Object.resolve(param, obj);\n      if (obj == null) {\n        obj = def;\n      }\n      return obj;\n    }\n  }, {\n    key: 'setParam',\n    value: function setParam(scope, param, value) {\n      var params = param.split('.');\n\n      var obj;\n\n      try {\n        obj = _config[scope] = _config[scope] || {};\n\n        for (var i = 0, l = params.length; i < l; i++) {\n          // obj = obj[params[i]];\n          var prop = params[i];\n          obj = obj[prop] = obj[prop] || i == l - 1 ? value : {};\n        }\n      } catch (e) {\n        obj = null;\n      }\n\n      this.configure();\n    }\n  }, {\n    key: 'configure',\n    value: function configure() {\n      this.configureConsole();\n    }\n  }, {\n    key: 'configureConsole',\n    value: function configureConsole() {\n\n      if (!_config.console.log) {\n        console._log = console.log;\n        console.log = function () {};\n      }\n    }\n  }]);\n\n  return Util;\n}();\n\n/* harmony default export */ exports[\"a\"] = Util;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ludic = function Ludic() {\n  _classCallCheck(this, Ludic);\n\n  this.extensions = {};\n};\n\n/* harmony default export */ exports[\"a\"] = new Ludic();\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(0);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Canvas = function () {\n  function Canvas() {\n    _classCallCheck(this, Canvas);\n\n    this.setupCanvas();\n    this.config = __WEBPACK_IMPORTED_MODULE_0__util_util__[\"a\" /* default */].readConfig('canvas');\n    this.focus();\n  }\n\n  _createClass(Canvas, [{\n    key: 'setupCanvas',\n    value: function setupCanvas() {\n      var canvasConfig = __WEBPACK_IMPORTED_MODULE_0__util_util__[\"a\" /* default */].readConfig('el');\n      var canvas = void 0;\n\n      if (typeof canvasConfig === 'string') {\n        canvas = document.querySelector(canvasConfig);\n      } else if (canvasConfig instanceof HTMLElement) {\n        canvas = canvasConfig;\n      } else {\n        console.warn('Ludic::Canvas: Unknown property type passed as \\'el\\'.', canvasConfig);\n      }\n\n      if (canvas != null) {\n        // make sure canvas has 'tabindex' attr for key binding\n        canvas.setAttribute('tabindex', canvas.getAttribute('tabindex') || '1');\n        this.setElement(canvas);\n      } else {\n        console.warn('Ludic::Canvas: Ludic does not have a canvas to bind to. Please supply one with the \\'el\\' config property.');\n      }\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      this.el.width = window.innerWidth;\n      this.el.height = window.innerHeight;\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      this.el.focus();\n    }\n  }, {\n    key: 'getElement',\n    value: function getElement() {\n      return this.el;\n    }\n  }, {\n    key: 'setElement',\n    value: function setElement(canvas) {\n      this.el = canvas;\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener() {\n      this.el.addEventListener.apply(this.el, arguments);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener() {\n      this.el.removeEventListener.apply(this.el, arguments);\n    }\n  }, {\n    key: 'getContext',\n    value: function getContext() {\n      var dimension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.config.dimension;\n\n      return this.el.getContext(dimension);\n    }\n  }, {\n    key: 'height',\n    value: function height() {\n      return this.el.height;\n    }\n  }, {\n    key: 'width',\n    value: function width() {\n      return this.el.width;\n    }\n\n    /**\n     * Helper function to clear the current context at full width-height\n     * @param {String} clearColor - color to clear the screen with\n     */\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var clearColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'white';\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getContext();\n\n      context.fillStyle = clearColor;\n      context.clearRect(0, 0, this.width(), this.height());\n      context.fillRect(0, 0, this.width(), this.height());\n    }\n  }]);\n\n  return Canvas;\n}();\n\n/* harmony default export */ exports[\"a\"] = Canvas;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HUDElement = function () {\n  function HUDElement() {\n    _classCallCheck(this, HUDElement);\n  }\n\n  _createClass(HUDElement, [{\n    key: \"render\",\n    value: function render(delta) {}\n  }]);\n\n  return HUDElement;\n}();\n\n/* harmony default export */ exports[\"a\"] = HUDElement;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Asset = function () {\n  function Asset(name, url, type, options) {\n    _classCallCheck(this, Asset);\n\n    this.name = name;\n    this.url = url;\n    this.type = type;\n    this.options = options || {};\n  }\n\n  _createClass(Asset, [{\n    key: \"load\",\n    value: function load() {}\n  }, {\n    key: \"onload\",\n    value: function onload(resolve, reject) {\n      var _this = this;\n\n      return function () {\n        resolve(_this);\n      };\n    }\n  }, {\n    key: \"onAssetResolve\",\n    value: function onAssetResolve(am) {}\n  }, {\n    key: \"onAssetReject\",\n    value: function onAssetReject(am) {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.name = null;\n      this.url = null;\n      this.type = null;\n      this.options = null;\n      this.data = null;\n    }\n  }]);\n\n  return Asset;\n}();\n\n/* harmony default export */ exports[\"a\"] = Asset;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAssetLoader__ = __webpack_require__(23);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// import ImageAsset from './imageAsset';\n// import RubeAsset from './rubeAsset';\n// import RubeImageAsset from './rubeImageAsset';\n\n\nvar AssetManager = function () {\n  function AssetManager() {\n    _classCallCheck(this, AssetManager);\n\n    this.assets = {};\n\n    this.loadQueue = [];\n    this.promiseQueue = [];\n    this.loaders = {};\n\n    this.addLoader('image', __WEBPACK_IMPORTED_MODULE_0__imageAssetLoader__[\"a\" /* default */]);\n  }\n\n  _createClass(AssetManager, [{\n    key: 'loadResource',\n    value: function loadResource(name, url, type, options, overwrite) {\n      // let promise = Promise.reject({\n      //   reason: \"resource load failed\",\n      //   name,\n      //   url,\n      //   type,\n      //   options,\n      //   overwrite\n      // });\n      var promise = null;\n      // first check if we have the asset\n      if (!this.assets[name] || overwrite) {\n        var asset = this.NewAsset(name, url, type, options);\n        if (asset) {\n          this.loadQueue.push(asset);\n\n          this.loading = true;\n\n          promise = asset.promise.then(this.onAssetResolve.bind(this), this.onAssetReject.bind(this));\n        }\n      }\n      return promise;\n    }\n  }, {\n    key: 'getAsset',\n    value: function getAsset(name) {\n      return this.assets[name];\n    }\n  }, {\n    key: 'getImage',\n    value: function getImage(name) {\n      var asset = this.getAsset(name);\n\n      switch (asset.type) {\n        case 'image':\n        case 'rubeImage':\n          return asset.data;\n          break;\n        default:\n          return null;\n      }\n    }\n  }, {\n    key: 'getData',\n    value: function getData(name) {\n      return this.getAsset(name).data;\n    }\n  }, {\n    key: 'onAssetResolve',\n    value: function onAssetResolve(asset) {\n      this.assets[asset.name] = asset;\n      asset.onAssetResolve(this);\n      return asset;\n    }\n  }, {\n    key: 'onAssetReject',\n    value: function onAssetReject() {\n      console.log('rejected: ', arguments);\n      return Promise.reject({\n        reason: 'onAssetReject'\n      });\n    }\n  }, {\n    key: 'isLoading',\n    value: function isLoading() {\n      return this.loading;\n    }\n  }, {\n    key: 'step',\n    value: function step() {\n      var _this = this,\n          _arguments = arguments;\n\n      if (this.loadQueue.length == 0) {\n        if (!this.finalPromise) {\n          this.finalPromise = Promise.all(this.promiseQueue).then(function () {\n            if (_this.finalPromise) {\n              // [tries to*] assures that this is not called prematurely if an asset is added late\n              _this.assetsLoaded.apply(_this, _arguments);\n              _this.promiseQueue = []; // reset promise queue to free objects;\n            }\n          });\n        }\n      } else {\n        this.finalPromise = null;\n        var asset = this.loadQueue.shift();\n        this.promiseQueue.push(asset.promise);\n        asset.load();\n      }\n    }\n  }, {\n    key: 'assetsLoaded',\n    value: function assetsLoaded() {\n      // console.log('all assets loaded: ',arguments);\n      if (this.onAssetsLoadedCallback) {\n        this.onAssetsLoadedCallback(this);\n      }\n      this.loading = false;\n    }\n  }, {\n    key: 'setOnAssetsLoadedCallback',\n    value: function setOnAssetsLoadedCallback(callback) {\n      this.onAssetsLoadedCallback = callback;\n    }\n  }, {\n    key: 'NewAsset',\n    value: function NewAsset(name, url, type, options) {\n      type = type || 'image';\n      // switch (type) {\n      //   case 'image':\n      //     return new ImageAsset(name, url, type, options);\n      //     break;\n      //   case 'rube':\n      //     return new RubeAsset(name, url, type, options);\n      //     break;\n      //   case 'rubeImage':\n      //     return new RubeImageAsset(name, url, type, options);\n      //     break;\n      //   default:\n      //     return null;\n      // }\n\n      var loader = this.loaders[type];\n\n      if (loader) {\n        return loader.load(name, url, type, options);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'destroyAsset',\n    value: function destroyAsset(asset) {\n      delete this.assets[asset.name];\n      asset.destroy();\n    }\n  }, {\n    key: 'addLoader',\n    value: function addLoader(fileTypes, loader) {\n      var _this2 = this;\n\n      if (typeof fileTypes === 'string') {\n        fileTypes = [fileTypes];\n      }\n\n      fileTypes.forEach(function (type) {\n        _this2.loaders[type] = loader;\n      });\n    }\n  }]);\n\n  return AssetManager;\n}();\n\n/* harmony default export */ exports[\"a\"] = new AssetManager();\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__engine_Vector2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_components_canvas_canvas__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_components_app_ludic__ = __webpack_require__(1);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar DEFAULT_PTM = 32;\n\nvar DEFAULTS = {\n  inverseY: true,\n  inverseX: false,\n  x: 0,\n  y: 0,\n  ptm: DEFAULT_PTM\n};\n\nvar Camera = function () {\n\n  /**\n   * `new Camera(options)`\n   * @param {object} [options] - options object\n   * @param {boolean} [options.inverseY=true] - make 'y' axis point up\n   * @param {boolean} [options.inverseX=false] - make 'x' axis point left\n   * @param {number} [options.x=0] - 'x' coordinate to start the camera\n   * @param {number} [options.y=0] - 'y' coordinate to start the camera\n   * @param {number} [options.width=Ludic.canvas.width()] - width of the camera view\n   * @param {number} [options.height=Ludic.canvas.height()] - height of the camera view\n   *\n   * `new Camera({Canvas})`\n   * @param {Canvas} [canvas] - optional canvas to provide dimensions\n   *\n   * `new Camera(ptm)` - assumes fill canvas width/height\n   * @param {number} [ptm] - pixels to meters scaling factor\n   *\n   * `new Camera(width,height)`\n   * @param {number} [width] - width of the camera view\n   * @param {number} [height] - height of the camera view\n   *\n   * `new Camera(x,y,width,height)`\n   * @param {number} [x] - 'x' coordinate to start the camera\n   * @param {number} [y] - 'y' coordinate to start the camera\n   * @param {number} [width] - width of the camera view\n   * @param {number} [height] - height of the camera view\n   */\n  function Camera() {\n    _classCallCheck(this, Camera);\n\n    var options = Object.assign({}, DEFAULTS, {\n      width: __WEBPACK_IMPORTED_MODULE_3_components_app_ludic__[\"a\" /* default */].canvas.width(),\n      height: __WEBPACK_IMPORTED_MODULE_3_components_app_ludic__[\"a\" /* default */].canvas.height()\n    });\n    if (arguments.length === 1) {\n      if (_typeof(arguments[0]) === 'object') {\n        if (arguments[0] instanceof __WEBPACK_IMPORTED_MODULE_2_components_canvas_canvas__[\"a\" /* default */]) {\n          options.width = canvas.width();\n          option.height = canva.height();\n        } else {\n          // options argument\n          options = Object.assign(options, arguments[0]);\n        }\n      } else if (typeof arguments[0] === 'number') {\n        // arg is ptm\n        options.ptm = arguments[0];\n      } else {\n        console.warn('Camera::Unknown single argument \\'' + _typeof(arguments[0]) + '\\'.', arguments);\n      }\n    } else if (arguments.length === 2) {\n      // width and height\n      var _arguments = Array.prototype.slice.call(arguments),\n          width = _arguments[0],\n          height = _arguments[1];\n\n      options.width = width;\n      options.height = height;\n    } else if (arguments.length === 4) {\n      // x,y,width,height\n      var _arguments2 = Array.prototype.slice.call(arguments),\n          x = _arguments2[0],\n          y = _arguments2[1],\n          _width = _arguments2[2],\n          _height = _arguments2[3];\n\n      options.x = x;\n      options.y = y;\n      options.width = _width;\n      options.height = _height;\n    } else if (arguments.length !== 0) {\n      console.warn('Camera::Unknown arguments.', arguments);\n    }\n\n    // apply the options\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.inverseX = options.inverseX;\n    this.inverseY = options.inverseY;\n    this.ptm = options.ptm;\n\n    // setup variables\n    this.viewCenterPixel = {\n      x: 0,\n      y: 0\n    };\n    this.singleWorldPoint = {\n      x: 0,\n      y: 0\n    };\n    this.singlePixelPoint = {\n      x: 0,\n      y: 0\n    };\n    this.offset = {\n      x: 0,\n      y: 0\n    };\n    this.futurePos = new __WEBPACK_IMPORTED_MODULE_1__engine_Vector2__[\"a\" /* default */](0, 0);\n\n    this.updateEnvironmentVariables();\n    window.addEventListener('resize', this.updateEnvironmentVariables.bind(this), false);\n\n    window.camera = this;\n  }\n\n  _createClass(Camera, [{\n    key: 'getCanvas',\n    value: function getCanvas() {\n      return this.canvas;\n    }\n  }, {\n    key: 'draw',\n    value: function draw(ctx) {\n\n      this.setTransform(ctx);\n    }\n  }, {\n    key: 'drawAxes',\n    value: function drawAxes(ctx) {\n      ctx.strokeStyle = 'rgb(192,0,0)';\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(1, 0);\n      ctx.stroke();\n      ctx.strokeStyle = 'rgb(0,192,0)';\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(0, 1);\n      ctx.stroke();\n    }\n  }, {\n    key: 'setChaseEntity',\n    value: function setChaseEntity(ent, chaseMethod) {\n      this.chaseEntity = ent;\n      this.chaseMethod = chaseMethod;\n    }\n  }, {\n    key: 'setChaseMethod',\n    value: function setChaseMethod(chaseMethod) {\n      this.chaseMethod = chaseMethod;\n    }\n  }, {\n    key: 'getWorldPointFromPixelPoint',\n    value: function getWorldPointFromPixelPoint(pixelPoint) {\n      this.singleWorldPoint.x = this._getWorldPointFromPixelPoint_x(pixelPoint.x);\n      this.singleWorldPoint.y = this._getWorldPointFromPixelPoint_y(pixelPoint.y);\n      return this.singleWorldPoint;\n    }\n  }, {\n    key: '_getWorldPointFromPixelPoint_x',\n    value: function _getWorldPointFromPixelPoint_x(x) {\n      // let inv = (this.offset.x - x) / this.ptm;\n      // let reg = (x - this.offset.x) / this.ptm;\n      return (this.inverseX ? this.offset.x - x : x - this.offset.x) / this.ptm;\n    }\n  }, {\n    key: '_getWorldPointFromPixelPoint_y',\n    value: function _getWorldPointFromPixelPoint_y(y) {\n      // let inv = (y - (this.height - this.offset.y)) / this.ptm;\n      // let reg = ((this.height - this.offset.y) - y) / this.ptm;\n      return (this.inverseY ? y - (this.height - this.offset.y) : this.height - this.offset.y - y) / this.ptm;\n    }\n  }, {\n    key: 'getPixelPointFromWorldPoint',\n    value: function getPixelPointFromWorldPoint(worldPoint) {\n      this.singlePixelPoint.x = this._getPixelPointFromWorldPoint_x(worldPoint.x);\n      this.singlePixelPoint.y = this._getPixelPointFromWorldPoint_y(worldPoint.y);\n      return this.singlePixelPoint;\n    }\n  }, {\n    key: '_getPixelPointFromWorldPoint_x',\n    value: function _getPixelPointFromWorldPoint_x(x) {\n      // let reg = (x*this.ptm) + this.offset.x;\n      // let inv = this.offset.x - (x*this.ptm);\n      return this.inverseX ? this.offset.x - x * this.ptm : x * this.ptm + this.offset.x;\n    }\n  }, {\n    key: '_getPixelPointFromWorldPoint_y',\n    value: function _getPixelPointFromWorldPoint_y(y) {\n      // let inv = (y*this.ptm) + (this.height - this.offset.y);\n      // let reg = (this.height - this.offset.y) - (y*this.ptm);\n      return this.inverseY ? y * this.ptm + (this.height - this.offset.y) : this.height - this.offset.y - y * this.ptm;\n    }\n  }, {\n    key: 'setViewCenterWorld',\n    value: function setViewCenterWorld(vector2, instantaneous, fraction) {\n      var currentViewCenterWorld = this.getViewCenterWorld();\n      var toMove = {};\n      toMove.x = vector2.get_x() - currentViewCenterWorld.x;\n      toMove.y = vector2.get_y() - currentViewCenterWorld.y;\n      this.moveCenterBy(toMove, instantaneous, fraction);\n    }\n  }, {\n    key: 'centerWorldToCamera',\n    value: function centerWorldToCamera() {\n      // this.setViewCenterWorld(new Vector2(), true);\n      this.setOffset(this.viewCenterPixel);\n    }\n  }, {\n    key: 'centerWorldToTopLeft',\n    value: function centerWorldToTopLeft() {\n      this.setViewCenterWorld(new __WEBPACK_IMPORTED_MODULE_1__engine_Vector2__[\"a\" /* default */](), true);\n    }\n  }, {\n    key: 'getViewCenterWorld',\n    value: function getViewCenterWorld() {\n      return this.getWorldPointFromPixelPoint(this.viewCenterPixel);\n    }\n  }, {\n    key: 'moveCenterBy',\n    value: function moveCenterBy(toMove, instantaneous, fraction) {\n      fraction = fraction || instantaneous ? 1 : 0.25;\n      this.offset.x -= __WEBPACK_IMPORTED_MODULE_0__util_util__[\"a\" /* default */].myRound(fraction * toMove.x * this.ptm, 0);\n      this.offset.y += __WEBPACK_IMPORTED_MODULE_0__util_util__[\"a\" /* default */].myRound(fraction * toMove.y * this.ptm, 0);\n    }\n  }, {\n    key: 'updateEnvironmentVariables',\n    value: function updateEnvironmentVariables() {\n      this.viewCenterPixel = {\n        x: this.width / 2,\n        y: this.height / 2\n      };\n    }\n  }, {\n    key: 'getViewCenterPixel',\n    value: function getViewCenterPixel() {\n      return this.viewCenterPixel;\n    }\n  }, {\n    key: 'getViewportBounds',\n    value: function getViewportBounds() {\n      var bounds = {\n        x: this._getWorldPointFromPixelPoint_x(0),\n        y: this._getWorldPointFromPixelPoint_y(0),\n        w: this._getWorldPointFromPixelPoint_x(this.width),\n        h: this._getWorldPointFromPixelPoint_y(this.height)\n      };\n      return bounds;\n    }\n  }, {\n    key: 'getPTM',\n    value: function getPTM() {\n      return this.ptm;\n    }\n  }, {\n    key: 'setPTM',\n    value: function setPTM(ptm) {\n      this.ptm = ptm;\n    }\n  }, {\n    key: 'getOffset',\n    value: function getOffset() {\n      return this.offset;\n    }\n  }, {\n    key: 'getOffsetX',\n    value: function getOffsetX() {\n      return this.offset.x;\n    }\n  }, {\n    key: 'getOffsetY',\n    value: function getOffsetY() {\n      return this.offset.y;\n    }\n  }, {\n    key: 'setOffset',\n    value: function setOffset(obj, y) {\n      if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && !y) {\n        this.offset.x = obj['x'] || 0;\n        this.offset.y = obj['y'] || 0;\n      } else if (typeof obj === 'number' && typeof y === 'number') {\n        this.offset.x = obj;\n        this.offset.y = y;\n      }\n    }\n  }, {\n    key: 'setTransform',\n    value: function setTransform(ctx) {\n      ctx.translate(this.getOffsetX(), this.getOffsetY());\n      var ptm = this.getPTM();\n      // apply the scaling factor and inverses\n      ctx.scale(this.inverseX ? -ptm : ptm, this.inverseY ? -ptm : ptm);\n      ctx.lineWidth /= ptm;\n    }\n  }, {\n    key: 'resetTransform',\n    value: function resetTransform(ctx) {\n      var ptm = this.getPTM();\n      // ctx.scale(1 / this.getPTM(),1 / this.getPTM());\n      ctx.scale(this.inverseX ? -1 / ptm : 1 / ptm, this.inverseY ? -1 / ptm : 1 / ptm);\n      ctx.lineWidth *= ptm;\n      ctx.translate(-this.getOffsetX(), -this.getOffsetY());\n    }\n  }]);\n\n  return Camera;\n}();\n\n/* harmony default export */ exports[\"a\"] = Camera;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__asset__ = __webpack_require__(4);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar ImageAsset = function (_Asset) {\n  _inherits(ImageAsset, _Asset);\n\n  function ImageAsset(name, url, type, options) {\n    _classCallCheck(this, ImageAsset);\n\n    var _this = _possibleConstructorReturn(this, (ImageAsset.__proto__ || Object.getPrototypeOf(ImageAsset)).call(this, name, url, type || 'image', options));\n\n    _this.data = new Image();\n    _this.promise = new Promise(function (resolve, reject) {\n      _this.data.onload = _this.onload(resolve, reject);\n    });\n\n    return _this;\n  }\n\n  _createClass(ImageAsset, [{\n    key: 'load',\n    value: function load() {\n      this.data.src = this.url;\n    }\n  }, {\n    key: 'onload',\n    value: function onload(resolve, reject) {\n      var _this2 = this;\n\n      return function () {\n        resolve(_this2);\n      };\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {}\n  }]);\n\n  return ImageAsset;\n}(__WEBPACK_IMPORTED_MODULE_0__asset__[\"a\" /* default */]);\n\n/* harmony default export */ exports[\"a\"] = ImageAsset;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Vector2 = function () {\n  function Vector2() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    _classCallCheck(this, Vector2);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Vector2, [{\n    key: \"get_x\",\n    value: function get_x() {\n      return this.x;\n    }\n  }, {\n    key: \"get_y\",\n    value: function get_y() {\n      return this.y;\n    }\n  }]);\n\n  return Vector2;\n}();\n\n/* harmony default export */ exports[\"a\"] = Vector2;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__keyCodeMap__ = __webpack_require__(24);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar listeners = [];\nvar defaultKeyConfig = {\n  preventDefault: true\n};\nvar ps4Mapping = {\n  buttons: ['cross', 'circle', 'square', 'triangle', 'l1', 'r1', 'l2', 'r2', 'extra', 'start', 'l3', 'r3', 'up', 'down', 'left', 'right', 'home', 'select'],\n  axes: ['lx', 'ly', 'rx', 'ry'],\n  sticks: {\n    lx: 'leftStick',\n    ly: 'leftStick',\n    rx: 'rightStick',\n    ry: 'rightStick'\n  }\n};\n\nvar gamepadMaps = {\n  'Wireless Controller (STANDARD GAMEPAD Vendor: 054c Product: 05c4)': ps4Mapping // ps4 controller\n};\n\nvar gamepadsAxisDeadZone = 0.08;\nvar gamepadsConfig = {};\n\nvar mousePosPixel = {};\nvar prevMousePosPixel = {};\n// let gamepadTypeMaps = [{id:'054c',type:'ps4'}];\n\nvar InputController = function () {\n  function InputController(canvas) {\n    _classCallCheck(this, InputController);\n\n    this.canvas = canvas;\n    // this.config = Util.readConfig('input');\n    // TODO: refactor config\n    this.config = {};\n\n    this.initKeys();\n    this.initMouse();\n    this.initGamepads();\n  }\n\n  // input methods\n\n  _createClass(InputController, [{\n    key: 'addInputListener',\n    value: function addInputListener(listener) {\n      listeners.push(listener);\n    }\n\n    /**\n     * Instantiates and returns a new InputEventListener\n     * @param {Object} options - passed along to new InputEventListener\n     * @param {Binder} binder (optional) - passed along to new InputEventListener\n     * @param {Boolean} alsoAdd (optional) - determines whether the returning InputEventListener should also be added to this\n     *\n     * @return {InputEventListener} - listener object used to attached handlers for input events\n     */\n\n  }, {\n    key: 'newInputListener',\n    value: function newInputListener(options, binder, alsoAdd) {\n      if (typeof alsoAdd === 'undefined' && typeof binder === 'boolean') {\n        // alsoAdd was the second param, without binder\n        alsoAdd = binder;\n        binder = null;\n      }\n      var l = new InputEventListener(options, binder);\n      if (alsoAdd) {\n        this.addInputListener(l);\n      }\n      return l;\n    }\n  }, {\n    key: 'removeInputListener',\n    value: function removeInputListener(listener) {\n      var ix = listeners.indexOf(listener);\n      if (ix > -1) {\n        listeners.splice(ix, 1);\n      }\n    }\n\n    //  -- keyboard\n\n  }, {\n    key: 'initKeys',\n    value: function initKeys() {\n      var _this = this;\n\n      // object for all key states\n      this.allKeys = {};\n\n      this.canvas.addEventListener('keydown', function (evt) {\n        // evt.preventDefault();\n        // this.onKeyDown(this.canvas,evt);\n        _this.onKeyEvent(_this.canvas, evt);\n      }, false);\n\n      this.canvas.addEventListener('keyup', function (evt) {\n        // evt.preventDefault();\n        // this.onKeyUp(this.canvas,evt);\n        _this.onKeyEvent(_this.canvas, evt);\n      }, false);\n    }\n  }, {\n    key: 'onKeyEvent',\n    value: function onKeyEvent(canvas, evt) {\n      // console.log(evt);\n      var l;\n      var down = evt.type === 'keydown';\n      var dir = down ? 'down' : 'up';\n\n      // give the event a list of all keys states\n      this.allKeys[evt.keyCode] = this.allKeys[evt.key] = down;\n      evt.allKeys = this.allKeys;\n\n      if (this.config.logAllKeys) {\n        console.log(evt.keyCode);\n      }\n      for (var i = listeners.length - 1; i >= 0; i--) {\n        l = listeners[i];\n        if (!l || !l.enabled) {\n          continue;\n        }\n\n        var cfg = l.keyConfig;\n        var key = cfg[evt.keyCode];\n        var binder = l.binder || l;\n        if (key) {\n          if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object' || Array.isArray(key)) {\n            var keys = void 0;\n            // make array out of single object, treat everything like an array\n            if (Array.isArray(key)) {\n              keys = key;\n            } else {\n              keys = [key];\n            }\n\n            // loop through all key configs\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var _key2 = _step.value;\n\n                var modifiers = false;\n                var direction = !_key2.hasOwnProperty('direction') || _key2.direction === dir || _key2.direction === 'both';\n                var method = _key2.hasOwnProperty('method') && _key2.method;\n                _key2._once = down ? _key2._once : false;\n\n                // logic for modifiers\n                if (!!_key2.shiftKey == evt.shiftKey && !!_key2.altKey == evt.altKey && !!_key2.ctrlKey == evt.ctrlKey) {\n                  modifiers = true;\n                }\n\n                if (method && modifiers && direction && !_key2._once) {\n                  binder = _key2.binder || binder;\n                  var b = this._execCommand(l, method, binder, down, evt);\n                  _key2._once = _key2.once && down;\n                }\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n          } else {\n            console.warn('InputController: Unsupported key config type \\'' + key + '\\'');\n          }\n        }\n        // else {\n        //   console.log('no config for keycode', evt.keyCode, key);\n        // }\n\n        // check for if listener wants the only control\n        if (l.stopPropagation) {\n          break;\n        }\n      }\n    }\n  }, {\n    key: '_execCommand',\n    value: function _execCommand(listener, method, binder) {\n      for (var _len = arguments.length, args = Array(_len > 3 ? _len - 3 : 0), _key3 = 3; _key3 < _len; _key3++) {\n        args[_key3 - 3] = arguments[_key3];\n      }\n\n      if (typeof method === 'string') {\n        var _listener$method;\n\n        return (_listener$method = listener[method]).call.apply(_listener$method, [binder].concat(args));\n      } else if (typeof method === 'function') {\n        return method.call.apply(method, [binder].concat(args));\n      } else {\n        return false;\n      }\n    }\n\n    //  -- mouse\n\n  }, {\n    key: 'initMouse',\n    value: function initMouse() {\n      this.canvas.addEventListener('mousemove', function (evt) {\n        this.onMouseEvent('mouseMove', this.canvas.el, evt);\n      }.bind(this), false);\n\n      this.canvas.addEventListener('mousedown', function (evt) {\n        this.onMouseEvent('mouseDown', this.canvas.el, evt);\n      }.bind(this), false);\n\n      this.canvas.addEventListener('mouseup', function (evt) {\n        this.onMouseEvent('mouseUp', this.canvas.el, evt);\n      }.bind(this), false);\n\n      this.canvas.addEventListener('mouseout', function (evt) {\n        this.onMouseEvent('mouseOut', this.canvas.el, evt);\n      }.bind(this), false);\n\n      // touch events\n      this.canvas.addEventListener('touchstart', function (evt) {\n        this.onMouseEvent('touchStart', this.canvas.el, evt);\n      }.bind(this), false);\n\n      this.canvas.addEventListener('touchend', function (evt) {\n        this.onMouseEvent('touchEnd', this.canvas.el, evt);\n      }.bind(this), false);\n\n      this.canvas.addEventListener('touchmove', function (evt) {\n        this.onMouseEvent('touchMove', this.canvas.el, evt);\n      }.bind(this), false);\n\n      this.canvas.addEventListener('touchcancel', function (evt) {\n        this.onMouseEvent('touchCancel', this.canvas, evt);\n      }.bind(this), false);\n    }\n  }, {\n    key: 'onMouseEvent',\n    value: function onMouseEvent(key, canvas, evt) {\n      prevMousePosPixel = mousePosPixel;\n      this.updateMousePos(canvas, evt);\n\n      for (var i = listeners.length - 1; i >= 0; i--) {\n        var l = listeners[i];\n        if (l && l.enabled) {\n          if (l.hasOwnProperty(key)) {\n            var bndr = l.binder || l;\n            var b = l[key].call(bndr, mousePosPixel, evt);\n            if (b === true) {\n              return;\n            }\n          }\n        }\n      }\n    }\n\n    //    -- mouse helper function\n\n  }, {\n    key: 'updateMousePos',\n    value: function updateMousePos(canvas, evt) {\n      var rect = canvas.getBoundingClientRect();\n      mousePosPixel = {\n        x: evt.clientX - rect.left,\n        y: canvas.height - (evt.clientY - rect.top)\n      };\n    }\n\n    //  -- gamepad\n\n  }, {\n    key: 'initGamepads',\n    value: function initGamepads() {\n      var _this2 = this;\n\n      this.gamepads = {};\n      this.lastButtonStates = [[], // gamepad index 0\n      [], // gamepad index 1\n      [], // gamepad index 2\n      [] // gamepad index 3\n      ];\n      this.lastAxisStates = [[], // gamepad index 0\n      [], // gamepad index 1\n      [], // gamepad index 2\n      [] // gamepad index 3\n      ];\n      window.addEventListener(\"gamepadconnected\", function (e) {\n        console.log(\"Gamepad connected at index %d: %s. %d buttons, %d axes.\", e.gamepad.index, e.gamepad.id, e.gamepad.buttons.length, e.gamepad.axes.length);\n        console.log(e.gamepad);\n        _this2.getGamepads();\n      });\n      window.addEventListener(\"gamepaddisconnected\", function (e) {\n        console.log('Gamepad disconnected: ', e);\n        _this2.getGamepads();\n      });\n\n      window.addEventListener('gamepadbuttondown', function (e) {\n        console.log('gamepad button down: ', e);\n      });\n\n      window.addEventListener('gamepadbuttonup', function (e) {\n        console.log('gamepad button up: ', e);\n      });\n    }\n  }, {\n    key: 'getGamepads',\n    value: function getGamepads() {\n      var gps = navigator.getGamepads() || [];\n      var gp;\n      for (var i = 0; i < gps.length; i++) {\n        gp = gps[i];\n        if (gp) {\n          this.gamepads[gp.index] = gp;\n        }\n      }\n      return this.gamepads;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      this._stepGamepads();\n    }\n  }, {\n    key: '_stepGamepads',\n    value: function _stepGamepads() {\n      var _this3 = this;\n\n      var gps = this.getGamepads();\n      var gp;\n      for (var i in gps) {\n        gp = gps[i]; // gamepad instance from api\n        if (gp) {\n\n          // for each gamepad that the api reads; poll the state of each button,\n          //  sending an event when pressed\n          gp.buttons.forEach(function (b, ix) {\n            // get the last known state of the button\n            var lastState = _this3.getLastState(i, ix);\n            b.index = ix; // tell the button what it's index is\n            b.lastState = lastState;\n\n            if (b.pressed) {\n              // if pressed, create a button event and set the buttons last known state\n              _this3.gamepadButtonEvent(gp, b, true);\n              _this3.setLastState(i, ix, true);\n            } else {\n              if (lastState) {\n                // if the button is not pressed but its last state was pressed, create a 'button up' event\n                if (lastState.pressed) {\n                  _this3.gamepadButtonEvent(gp, b, false);\n                }\n              }\n              // set the buttons last known state for not pressed\n              _this3.setLastState(i, ix, false);\n            }\n          });\n\n          // do the same thing for each of the axis (analog sticks)\n          // loop through each and poll state\n          gp.axes.forEach(function (value, axis) {\n            // get the deadZone associated with each axis\n            var dz = _this3.getDeadZone(axis);\n            // get the last known state for the axis\n            var lastState = _this3.getLastAxisState(i, axis);\n\n            // if the value of the axis is withing the bounds of the deadzone\n            //  create an axis event\n            if (value < -dz || value > dz) {\n              _this3.gamepadAxisEvent(gp, axis, value, false);\n            } else if (!lastState.zeroed) {\n              _this3.gamepadAxisEvent(gp, axis, 0, true);\n            }\n          });\n        } else {\n          console.log('no gamepad!', i);\n        }\n      }\n    }\n  }, {\n    key: 'getLastAxisState',\n    value: function getLastAxisState(gpIndex, axis) {\n      var b = this.lastAxisStates[gpIndex][axis] || { zeroed: true };\n      return b;\n    }\n  }, {\n    key: 'setLastAxisState',\n    value: function setLastAxisState(gpIndex, axis, state) {\n      this.lastAxisStates[gpIndex][axis] = { zeroed: state };\n    }\n  }, {\n    key: 'getDeadZone',\n    value: function getDeadZone(gamepadIndex) {\n      if (gamepadsConfig.hasOwnProperty(gamepadIndex) && gamepadsConfig[gamepadIndex].hasOwnProperty(deadZone)) {\n        return gamepadsConfig[gamepadIndex].deadZone;\n      }\n      return gamepadsAxisDeadZone;\n    }\n  }, {\n    key: 'setDeadZone',\n    value: function setDeadZone(deadZone, gamepadIndex) {\n      if (gamepadIndex !== null && gamepadIndex !== undefined) {\n        if (gamepadsConfig.hasOwnProperty(gamepadIndex)) {\n          gamepadsConfig[gamepadIndex].deadZone = deadZone;\n        } else {\n          gamepadsConfig[gamepadIndex] = { deadZone: deadZone };\n        }\n      } else {\n        gamepadsAxisDeadZone = deadZone;\n      }\n    }\n  }, {\n    key: 'getLastState',\n    value: function getLastState(i, ix) {\n      var b = this.lastButtonStates[i][ix];\n      return b;\n    }\n  }, {\n    key: 'setLastState',\n    value: function setLastState(i, ix, state) {\n      this.lastButtonStates[i][ix] = { pressed: state };\n    }\n  }, {\n    key: 'gamepadButtonEvent',\n    value: function gamepadButtonEvent(gamepad, button, down) {\n      button.id = gamepadMaps[gamepad.id].buttons[button.index];\n      if (button.id) {\n        this.onGamepadButtonEvent(new GamepadButtonEvent(gamepad, button, down));\n      } else {\n        console.log(arguments);\n      }\n    }\n  }, {\n    key: 'onGamepadButtonEvent',\n    value: function onGamepadButtonEvent(evt) {\n      var l;\n      var down = evt.down;\n\n      // if(this.config.logAllKeys){\n      //   console.log(evt.keyCode,evt.keyIdentifier);\n      // }\n      for (var i = listeners.length - 1; i >= 0; i--) {\n        l = listeners[i];\n        if (!l || !l.enabled) {\n          continue;\n        }\n        var func = l[evt.keyIdentifier];\n        if (!func) {\n          continue;\n        }\n        if (l.gamepadIndex >= 0 && l.gamepadIndex !== evt.gamepadIndex) {\n          continue;\n        }\n\n        var bndr = l.binder || l;\n        var b = func.call(bndr, down, evt);\n        if (b === true) {\n          return;\n        }\n        // check for if listener wants the only control\n        if (l.stopPropagation) {\n          break;\n        }\n      }\n      // if(this.config.logUnmappedKeys){\n      //   console.log(evt.keyCode,evt.keyIdentifier,evt.button.value, listeners.length===0?\"No listeners\":\"\");\n      // }\n    }\n  }, {\n    key: 'getGamepadMap',\n    value: function getGamepadMap(gamepadId) {\n      return gamepadMaps[gamepadId] || {};\n    }\n  }, {\n    key: 'gamepadAxisEvent',\n    value: function gamepadAxisEvent(gamepad, axisIndex, value, zeroed) {\n      this.setLastAxisState(gamepad.index, axisIndex, zeroed);\n      var gpMap = this.getGamepadMap(gamepad.id);\n      var axis = {};\n      axis.id = gpMap.axes[axisIndex];\n      axis.stick = gpMap.sticks[axis.id];\n      axis.index = axisIndex;\n      axis.value = value;\n      axis.zeroed = zeroed;\n\n      var evt = new GamepadAxisEvent(gamepad, axis);\n      evt.values = {};\n      if (axis.stick === 'leftStick') {\n        evt.values.x = gamepad.getValueByAxisId('lx');\n        evt.values.y = gamepad.getValueByAxisId('ly');\n      } else if (axis.stick === 'rightStick') {\n        evt.values.x = gamepad.getValueByAxisId('rx');\n        evt.values.y = gamepad.getValueByAxisId('ry');\n      }\n\n      this.onGamepadAxis(evt);\n    }\n  }, {\n    key: 'onGamepadAxis',\n    value: function onGamepadAxis(evt) {\n      var l;\n      for (var i = listeners.length - 1; i >= 0; i--) {\n        l = listeners[i];\n        if (!l) {\n          continue;\n        }\n\n        var func = l[evt.stick];\n        if (!func) {\n          continue;\n        }\n        // only fire for correct gamepadIndex\n        if (l.gamepadIndex >= 0 && l.gamepadIndex !== evt.gamepadIndex) {\n          continue;\n        }\n\n        var bndr = l.binder || l;\n        if (func.call(bndr, evt.values.x, evt.values.y, evt) === false) {\n          continue;\n        }\n        return;\n      }\n    }\n  }]);\n\n  return InputController;\n}();\n\nvar stripModifiers = function stripModifiers(key) {\n  var mods = key.split('.');\n  key = mods[0];\n  var ret = { key: key, config: {} };\n  if (mods.length > 1) {\n    for (var i = 1; i < mods.length; i++) {\n      var mod = mods[i];\n      switch (mod) {\n        case 'alt':\n        case 'altKey':\n          ret.config.altKey = true;\n          break;\n        case 'shift':\n        case 'shiftKey':\n          ret.config.shiftKey = true;\n          break;\n        case 'ctrl':\n        case 'ctrlKey':\n          ret.config.ctrlKey = true;\n          break;\n        case 'up':\n          ret.config.direction = 'up';\n          break;\n        case 'down':\n          ret.config.direction = 'down';\n          break;\n        case 'once':\n          ret.config.once = true;\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  return ret;\n};\n\nvar importKeyConfig = function importKeyConfig(keyConfig) {\n  var config = {};\n\n  var _loop = function _loop(_key4) {\n    var mods = stripModifiers(_key4);\n    var _key = _key4;\n    var cfg = keyConfig[_key4];\n    _key4 = __WEBPACK_IMPORTED_MODULE_1__keyCodeMap__[\"a\" /* default */][mods.key] || mods.key;\n\n    // everything needs to be an array of objects\n    if (typeof cfg === 'string' || typeof cfg === 'function') {\n      config[_key4] = [Object.assign({}, { method: cfg }, mods.config)];\n    } else if ((typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) === 'object' && !Array.isArray(cfg)) {\n      config[_key4] = [Object.assign({}, mods.config, cfg)];\n    } else if (Array.isArray(cfg)) {\n      config[_key4] = cfg.map(function (conf) {\n        return Object.assign({}, mods.config, conf);\n      });\n    } else {\n      console.warn('InputController: Unsupported key config type \\'' + (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) + '\\' for \\'' + _key4 + '\\'', cfg);\n    }\n    key = _key4;\n  };\n\n  for (var key in keyConfig) {\n    _loop(key);\n  }\n  return config;\n};\n\nvar InputEventListener = function () {\n  function InputEventListener(options, binder) {\n    _classCallCheck(this, InputEventListener);\n\n    var keyConfig = options;\n    if (options.hasOwnProperty('keyConfig')) {\n      keyConfig = options.keyConfig;\n    }\n    if (options.hasOwnProperty('gamepadIndex')) {\n      this.gamepadIndex = options.gamepadIndex;\n    } else {\n      this.gamepadIndex = -1;\n    }\n    if (options.hasOwnProperty('binder')) {\n      binder = options.binder;\n    }\n\n    this.stopPropagation = options.stopPropagation;\n\n    this.keyConfig = importKeyConfig.call(this, keyConfig);\n    this.options = options;\n    this.binder = binder;\n    this.enabled = options.hasOwnProperty('enabled') ? options.enabled : true;\n\n    if (options.hasOwnProperty('methods')) {\n      this._loadListener(options.methods);\n    }\n  }\n\n  _createClass(InputEventListener, [{\n    key: '$enable',\n    value: function $enable() {\n      this.enabled = true;\n    }\n  }, {\n    key: '$disable',\n    value: function $disable() {\n      this.enabled = false;\n    }\n  }, {\n    key: '_loadListener',\n    value: function _loadListener(listener) {\n      var avail = ['start', 'select', 'home', 'extra', 'left', 'right', 'up', 'down', 'l1', 'l2', 'l3', 'r1', 'r2', 'r3', 'triangle', 'square', 'circle', 'cross', 'leftStick', 'rightStick', 'mouseMove', 'mouseDown', 'mouseUp', 'mouseOut', 'touchStart', 'touchEnd', 'touchMove', 'touchCancel'];\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = avail[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _key5 = _step2.value;\n\n          if (_key5 in listener) {\n            var method = listener[_key5];\n\n            if (typeof method === 'function') {\n              this[_key5] = method;\n            } else if (typeof method === 'string') {\n              console.log(this.keyConfig);\n              var code = method;\n\n              if (Number.isNaN(parseInt(code))) {\n                // need to convert char\n                var _code = __WEBPACK_IMPORTED_MODULE_1__keyCodeMap__[\"a\" /* default */][code];\n                if (_code) {\n                  code = _code;\n                } else {\n                  console.warn('There is no mapping for: ', method);\n                  continue;\n                }\n              }\n\n              var arr = this.keyConfig[code];\n\n              if (arr.length === 1) {\n                this[_key5] = arr[0].method;\n              } else {\n                console.warn('multiple entries per keycode is not supported at this yet.', _key5, arr, method);\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      return null;\n    }\n  }, {\n    key: 'select',\n    value: function select() {\n      return null;\n    }\n  }, {\n    key: 'home',\n    value: function home() {\n      // ps/xb button\n      return null;\n    }\n  }, {\n    key: 'left',\n    value: function left() {\n      return null;\n    }\n  }, {\n    key: 'right',\n    value: function right() {\n      return null;\n    }\n  }, {\n    key: 'up',\n    value: function up() {\n      return null;\n    }\n  }, {\n    key: 'down',\n    value: function down() {\n      return null;\n    }\n  }, {\n    key: 'l1',\n    value: function l1() {\n      return null;\n    }\n  }, {\n    key: 'l2',\n    value: function l2() {\n      return null;\n    }\n  }, {\n    key: 'l3',\n    value: function l3() {\n      return null;\n    }\n  }, {\n    key: 'r1',\n    value: function r1() {\n      return null;\n    }\n  }, {\n    key: 'r2',\n    value: function r2() {\n      return null;\n    }\n  }, {\n    key: 'r3',\n    value: function r3() {\n      return null;\n    }\n  }, {\n    key: 'triangle',\n    value: function triangle() {\n      return null;\n    }\n  }, {\n    key: 'square',\n    value: function square() {\n      return null;\n    }\n  }, {\n    key: 'circle',\n    value: function circle() {\n      return null;\n    }\n  }, {\n    key: 'cross',\n    value: function cross() {\n      return null;\n    }\n  }, {\n    key: 'extra',\n    value: function extra() {\n      return null;\n    }\n  }, {\n    key: 'leftStick',\n    value: function leftStick(x, y, event) {\n      return null;\n    }\n  }, {\n    key: 'rightStick',\n    value: function rightStick(x, y, event) {\n      return null;\n    }\n  }]);\n\n  return InputEventListener;\n}();\n// assign the InputEventListener class as a static property on InputController\n//  so it can be instantiated properly outside of this module\n\n\nInputController.InputEventListener = InputEventListener;\n\nvar GamepadButtonEvent = function GamepadButtonEvent(gamepad, button, down) {\n  _classCallCheck(this, GamepadButtonEvent);\n\n  this.gamepad = gamepad;\n  this.gamepadIndex = gamepad.index;\n  this.button = button;\n  this.down = down;\n  this.type = 'gamepadButtonEvent';\n  this.keyCode = button.index;\n  this.keyIdentifier = button.id;\n};\n\nvar GamepadAxisEvent = function GamepadAxisEvent(gamepad, axis) {\n  _classCallCheck(this, GamepadAxisEvent);\n\n  this.gamepad = gamepad;\n  this.gamepadIndex = gamepad.index;\n  this.axis = axis;\n  this.stick = axis.stick;\n  this.keyCode = 200 + axis.index;\n  this.keyIdentifier = axis.id;\n  this.values = axis.values;\n  this.type = 'gamepadAxisEvent';\n};\n\nGamepad.prototype.getValueByAxisId = function (axisId) {\n  var gp = gamepadMaps[this.id];\n  var ix = gp.axes.indexOf(axisId);\n  if (ix > -1) {\n    return this.axes[ix];\n  }\n  return;\n};\n\n/* harmony default export */ exports[\"a\"] = InputController;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_components_util_privateProperty__ = __webpack_require__(25);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar _stack = new __WEBPACK_IMPORTED_MODULE_0_components_util_privateProperty__[\"a\" /* default */]();\nvar _listeners = new __WEBPACK_IMPORTED_MODULE_0_components_util_privateProperty__[\"a\" /* default */]();\n\nvar ScreenManager = function () {\n  function ScreenManager() {\n    _classCallCheck(this, ScreenManager);\n\n    // initialize some private variables\n    var idIncrementer = 0;\n    this.getNewId = function () {\n      return idIncrementer++;\n    };\n\n    // define private properties\n    _listeners.set(this, new Proxy([], {\n      get: function get(target, prop) {\n        if (prop in ScreenEventListener.prototype) {\n          return function () {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            // only call prop if it exists\n            //  this allows for the 'listener' to not be a 'ScreenEventListener' but any object that defines its properties\n            target.forEach(function (e) {\n              var _e$prop;\n\n              return e[prop] != null ? (_e$prop = e[prop]).call.apply(_e$prop, [e].concat(args)) : undefined;\n            });\n          };\n        }\n        return target[prop];\n      }\n    }));\n    _stack.set(this, []);\n  }\n\n  _createClass(ScreenManager, [{\n    key: 'update',\n    value: function update(delta) {\n      var stack = _stack(this);\n      if (stack.length > 0) {\n        var screen = stack[stack.length - 1];\n        screen._step.apply(screen, arguments);\n\n        if (screen._isFinished) {\n          _listeners(this).onScreenFinished(screen, this, screen._finalData);\n        }\n      }\n    }\n  }, {\n    key: 'addScreen',\n    value: function addScreen(screen, replace) {\n      var stack = _stack(this);\n      // give the screen a ref to the manager\n      screen.$manager = this;\n      // give the screen an id\n      screen.$id = this.getNewId();\n      if (replace) {\n        stack.splice(stack.length - 1, 1, screen);\n      } else {\n        stack.push(screen);\n      }\n      // call screen's callback\n      screen.onAddedToManager(this);\n      // call listener methods\n      _listeners(this).onScreenAdded(screen, this, replace);\n    }\n  }, {\n    key: 'popScreen',\n    value: function popScreen() {\n      var stack = _stack(this);\n      if (stack.length > 1) {\n        var screen = stack.pop();\n        // call screen's callback\n        screen.onRemovedFromManager(this);\n        // call listener methods\n        _listeners(this).onScreensRemoved([screen], this);\n        return [screen];\n      } else {\n        // cannot pop the last screen, only replace.\n        _listeners(this).onWarnPopScreen(stack, this);\n        return [];\n      }\n    }\n  }, {\n    key: 'popToScreen',\n    value: function popToScreen(screen) {\n      var _this = this;\n\n      var stack = _stack(this);\n      if (!screen.hasOwnProperty('$id')) {\n        return false;\n      }\n      var index = stack.findIndex(function (s) {\n        return s.$id === screen.$id;\n      });\n      if (index === -1) {\n        return false;\n      } else {\n        var screensRemoved = stack.splice(index);\n        // call screen callback method\n        screensRemoved.slice().reverse().forEach(function (screen) {\n          return screen.onRemovedFromManager(_this);\n        });\n        // call listener method\n        _listeners(this).onScreensRemoved(screensRemoved, this);\n        return screensRemoved;\n      }\n    }\n  }, {\n    key: 'addScreenEventListener',\n    value: function addScreenEventListener(listener) {\n      _listeners(this).push(listener);\n    }\n  }, {\n    key: 'getNewScreenEventListener',\n    value: function getNewScreenEventListener(alsoAdd) {\n      var listener = new ScreenEventListener();\n      if (alsoAdd) {\n        this.addScreenEventListener(listener);\n      }\n      return listener;\n    }\n  }]);\n\n  return ScreenManager;\n}();\n\n/* harmony default export */ exports[\"a\"] = ScreenManager;\n\nvar ScreenEventListener = function () {\n  function ScreenEventListener() {\n    _classCallCheck(this, ScreenEventListener);\n  }\n\n  _createClass(ScreenEventListener, [{\n    key: 'onScreenFinished',\n    value: function onScreenFinished(screen, manager, data) {}\n  }, {\n    key: 'onScreenAdded',\n    value: function onScreenAdded(screen, manager, replaced) {}\n  }, {\n    key: 'onScreensRemoved',\n    value: function onScreensRemoved(screen, manager) {}\n  }, {\n    key: 'onWarnPopScreen',\n    value: function onWarnPopScreen(stack, manager) {}\n  }]);\n\n  return ScreenEventListener;\n}();\n\nScreenManager.ScreenEventListener = ScreenEventListener;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__base_assetManager__ = __webpack_require__(5);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar RIGHT = 10;\nvar LEFT = 11;\n\nvar BaseSprite = function () {\n  function BaseSprite(image, framesX, framesY, offsetX, offsetY) {\n    _classCallCheck(this, BaseSprite);\n\n    if (typeof image === 'string') {\n      this.image = __WEBPACK_IMPORTED_MODULE_0__base_assetManager__[\"a\" /* default */].getImage(image);\n    } else {\n      this.image = image;\n    }\n\n    if (!this.image) {\n      console.warn('Sprite created without an image', this);\n      return;\n    }\n\n    this.width = this.image.width;\n    this.height = this.image.height;\n\n    this.frames = [];\n    this.framesX = framesX;\n    this.framesY = framesY;\n    this.frameWidth = this.width / this.framesX;\n    this.frameHeight = this.height / this.framesY;\n    this.totalFrames = this.framesX * this.framesY;\n\n    this.scaleToWidth(1);\n\n    this.setOffset(offsetX || 0, offsetY || 0);\n\n    this.currentFrameIndex = 0;\n\n    this.direction = RIGHT;\n\n    this.parseSpriteSheet();\n\n    this.setFrame();\n  }\n\n  _createClass(BaseSprite, [{\n    key: 'parseSpriteSheet',\n    value: function parseSpriteSheet() {\n      for (var y = 0; y < this.framesY; y++) {\n        for (var x = 0; x < this.framesX; x++) {\n          var frame = {};\n          frame.sx = x * this.frameWidth;\n          frame.sy = y * this.frameHeight;\n\n          this.frames.push(frame);\n        }\n      }\n\n      console.log(this.frames);\n    }\n  }, {\n    key: 'animate',\n    value: function animate() {\n      this.currentFrameIndex = (this.currentFrameIndex + 1) % this.frames.length;\n      this.setFrame();\n    }\n  }, {\n    key: 'setFrame',\n    value: function setFrame(frameIndex) {\n      frameIndex = frameIndex === undefined ? this.currentFrameIndex : frameIndex;\n      this.frame = this.frames[frameIndex];\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(pos) {\n      this.pos = pos;\n    }\n  }, {\n    key: 'setOffset',\n    value: function setOffset(offset, offsetY) {\n      if ((typeof offset === 'undefined' ? 'undefined' : _typeof(offset)) === 'object') {\n        this.offset = offset;\n      } else if (offsetY !== undefined) {\n        this.offset = {\n          x: offset,\n          y: offsetY\n        };\n      }\n    }\n  }, {\n    key: 'setUseShadow',\n    value: function setUseShadow(use) {\n      this.useShadow = use;\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection(dir) {\n      this.direction = dir;\n    }\n  }, {\n    key: 'scaleToWidth',\n    value: function scaleToWidth(w) {\n      var h = w / this.frameWidth;\n      this.drawWidth = w;\n      this.drawHeight = h * this.frameHeight;\n    }\n  }, {\n    key: 'scaleToHeight',\n    value: function scaleToHeight(h) {\n      var w = h / this.frameHeight;\n      this.drawWidth = w * this.frameWidth;\n      this.drawHeight = h;\n    }\n  }, {\n    key: 'scale',\n    value: function scale(_scale) {\n      this.drawWidth *= _scale;\n      this.drawHeight *= _scale;\n    }\n  }, {\n    key: 'draw',\n    value: function draw(ctx) {\n\n      ctx.save();\n      if (this.direction === RIGHT) {\n        ctx.scale(1, -1); // flip the y\n        ctx.translate(-this.offset.x, -this.offset.y); //  [ -(w/2) , -(?) ]\n        ctx.translate(this.pos.x, -this.pos.y);\n      } else {\n        ctx.scale(-1, -1); // flip the x & y\n        ctx.translate(-this.offset.x, -this.offset.y); //  [ -(w/2) , -(?) ]\n        ctx.translate(-this.pos.x, -this.pos.y);\n      }\n\n      if (this.useShadow) {\n        ctx.shadowColor = 'black';\n        ctx.shadowBlur = 20;\n        ctx.shadowOffsetX = 5;\n        ctx.shadowOffsetY = 10;\n      }\n\n      ctx.drawImage(this.image, this.frame.sx, this.frame.sy, this.frameWidth, this.frameHeight, 0, 0, this.drawWidth, this.drawHeight);\n\n      ctx.restore();\n    }\n  }]);\n\n  return BaseSprite;\n}();\n\n/* harmony default export */ exports[\"a\"] = BaseSprite;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__HUDElement__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar valid_positions_x = ['center', 'left', 'right'];\nvar valid_positions_y = ['center', 'top', 'bottom'];\n\nvar Dialog = function (_HUDElement) {\n  _inherits(Dialog, _HUDElement);\n\n  function Dialog() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$x = _ref.x,\n        x = _ref$x === undefined ? 0 : _ref$x,\n        _ref$y = _ref.y,\n        y = _ref$y === undefined ? 0 : _ref$y,\n        _ref$width = _ref.width,\n        width = _ref$width === undefined ? 100 : _ref$width,\n        _ref$height = _ref.height,\n        height = _ref$height === undefined ? 100 : _ref$height,\n        _ref$position = _ref.position,\n        position = _ref$position === undefined ? '' : _ref$position,\n        _ref$positionX = _ref.positionX,\n        positionX = _ref$positionX === undefined ? '' : _ref$positionX,\n        _ref$positionY = _ref.positionY,\n        positionY = _ref$positionY === undefined ? '' : _ref$positionY,\n        _ref$offset = _ref.offset,\n        offset = _ref$offset === undefined ? { x: 0, y: 0 } : _ref$offset,\n        _ref$offsetX = _ref.offsetX,\n        offsetX = _ref$offsetX === undefined ? 0 : _ref$offsetX,\n        _ref$offsetY = _ref.offsetY,\n        offsetY = _ref$offsetY === undefined ? 0 : _ref$offsetY,\n        _ref$backgroundColor = _ref.backgroundColor,\n        backgroundColor = _ref$backgroundColor === undefined ? 'black' : _ref$backgroundColor,\n        _ref$textColor = _ref.textColor,\n        textColor = _ref$textColor === undefined ? 'white' : _ref$textColor,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? '' : _ref$title,\n        _ref$visible = _ref.visible,\n        visible = _ref$visible === undefined ? false : _ref$visible,\n        _ref$borderColor = _ref.borderColor,\n        borderColor = _ref$borderColor === undefined ? 'blue' : _ref$borderColor,\n        _ref$borderWidth = _ref.borderWidth,\n        borderWidth = _ref$borderWidth === undefined ? 0 : _ref$borderWidth;\n\n    _classCallCheck(this, Dialog);\n\n    var _this = _possibleConstructorReturn(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).call(this));\n\n    _this._x = x;\n    _this._y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.backgroundColor = backgroundColor;\n\n    // text vars\n    _this.textColor = textColor;\n    _this.title = title;\n\n    // calc positioning setup\n    _this.__calcPosition({ position: position, positionX: positionX, positionY: positionY, offset: offset, offsetX: offsetX, offsetY: offsetY });\n\n    if (visible) {\n      _this.show();\n    }\n\n    _this.borderColor = borderColor;\n    _this.borderWidth = borderWidth;\n    return _this;\n  }\n\n  _createClass(Dialog, [{\n    key: 'render',\n    value: function render(delta, ctx) {\n      ctx.save();\n      var pos = this.getPosition(ctx);\n\n      // draw border\n      this._drawBorder(ctx, pos);\n      // draw the main background rect\n      this._drawBackground(ctx, pos);\n\n      // draw the title\n      ctx.save();\n      ctx.fillStyle = this.textColor;\n      ctx.font = '22px serif';\n      ctx.fillText(this.title, pos.x + 10, pos.y + 22 + 10);\n      ctx.restore();\n\n      ctx.restore();\n    }\n  }, {\n    key: '_drawBorder',\n    value: function _drawBorder(ctx, pos) {\n      if (this.borderWidth > 0) {\n        var bw = this.borderWidth - 1;\n        // draw the border just outside the normal dimensions\n        ctx.beginPath();\n        ctx.strokeStyle = this.borderColor;\n        ctx.lineWidth = this.borderWidth;\n        ctx.moveTo(pos.x - bw, pos.y - bw);\n        ctx.lineTo(pos.x + this.width + bw, pos.y - bw);\n        ctx.lineTo(pos.x + this.width + bw, pos.y + this.height + bw);\n        ctx.lineTo(pos.x - bw, pos.y + this.height + bw);\n        ctx.closePath();\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: '_drawBackground',\n    value: function _drawBackground(ctx, pos) {\n      ctx.fillStyle = this.backgroundColor;\n      ctx.fillRect(pos.x, pos.y, this.width, this.height);\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.visible = true;\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.visible = false;\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle() {\n      if (this.visible) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n  }, {\n    key: 'getPosition',\n    value: function getPosition(ctx) {\n      var position = { x: 0, y: 0 };\n      if (this._positionX && this._positionY && ctx) {\n        var c_width = ctx.canvas.width;\n        var c_height = ctx.canvas.height;\n\n        var x = this.__getXfromPositionX.call(this, this._positionX, c_width);\n        var y = this.__getYfromPositionY.call(this, this._positionY, c_height);\n\n        position = { x: x, y: y };\n      } else if (!ctx) {\n        console.warn(\"Canvas context was not passed into 'getPosition'.\");\n      } else {\n        position = { x: this._x, y: this._y };\n      }\n\n      this.position = position;\n      return this.position;\n    }\n\n    /** Helper Methods **/\n\n  }, {\n    key: '__validatePositionX',\n    value: function __validatePositionX(posX) {\n      if (valid_positions_x.indexOf(posX) > -1) {\n        return true;\n      }\n      console.warn('Unknown value for position x: ', posX, '. The valid positions are: ', valid_positions_x);\n      return false;\n    }\n  }, {\n    key: '__validatePositionY',\n    value: function __validatePositionY(posY) {\n      if (valid_positions_y.indexOf(posY) > -1) {\n        return true;\n      }\n      console.warn('Unknown value for position y: ', posY, '. The valid positions are: ', valid_positions_y);\n      return false;\n    }\n  }, {\n    key: '__getXfromPositionX',\n    value: function __getXfromPositionX(posX, c_width) {\n      switch (posX) {\n        case 'center':\n          return c_width / 2 - this.width / 2 + this._offsetX;\n        case 'left':\n          return this._offsetX;\n        case 'right':\n          return c_width - this.width + this._offsetX;\n          break;\n        default:\n          console.warn('Unknown value for position x: ', posX, '. The valid positions are: ', valid_positions_x);\n          return 0;\n      }\n    }\n  }, {\n    key: '__getYfromPositionY',\n    value: function __getYfromPositionY(posY, c_height) {\n      switch (posY) {\n        case 'center':\n          return c_height / 2 - this.height / 2 + this._offsetY;\n        case 'top':\n          return this._offsetY;\n        case 'bottom':\n          return c_height - this.height + this._offsetY;\n          break;\n        default:\n          console.warn('Unknown value for position y: ', posY, '. The valid positions are: ', valid_positions_y);\n          return 0;\n      }\n    }\n  }, {\n    key: '__calcPosition',\n    value: function __calcPosition(_ref2) {\n      var position = _ref2.position,\n          positionX = _ref2.positionX,\n          positionY = _ref2.positionY,\n          offset = _ref2.offset,\n          offsetX = _ref2.offsetX,\n          offsetY = _ref2.offsetY;\n\n      if (position) {\n        var positions = position.split(' ');\n        if (positions.length == 1 && positions[0] === 'center') {\n          positionX = positionY = positions[0];\n        } else if (positions.length == 2 && this.__validatePositionX(positions[0]) && this.__validatePositionY(positions[1])) {\n          positionX = positions[0];\n          positionY = positions[1];\n        }\n      }\n      // should have positionX & positionY, either from above logic or as param\n      if (positionX != null && positionY != null) {\n        this._positionX = positionX;\n        this._positionY = positionY;\n      }\n\n      if (offset != null && offset.hasOwnProperty('x') && offset.hasOwnProperty('y')) {\n        offsetX = offset.x;\n        offsetY = offset.y;\n      }\n\n      // should have offsetX & offsetY, either from above logic or as param\n      if (offsetX != null && offsetY != null) {\n        this._offsetX = offsetX;\n        this._offsetY = offsetY;\n      }\n    }\n\n    /** Getters and Setters **/\n\n  }, {\n    key: 'offsetX',\n    get: function get() {\n      return this._offsetX;\n    },\n    set: function set(x) {\n      this._offsetX = x;\n    }\n  }, {\n    key: 'offsetY',\n    get: function get() {\n      return this._offsetY;\n    },\n    set: function set(y) {\n      this._offsetY = y;\n    }\n  }]);\n\n  return Dialog;\n}(__WEBPACK_IMPORTED_MODULE_0__HUDElement__[\"a\" /* default */]);\n\n/* harmony default export */ exports[\"a\"] = Dialog;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__canvas_canvas__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_camera__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__screen_screenManager__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ludic__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__input_inputController__ = __webpack_require__(9);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n\nvar LudicApp = function () {\n  function LudicApp(config) {\n    _classCallCheck(this, LudicApp);\n\n    __WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* default */].setConfig(config);\n    __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].config = config;\n    __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].canvas = new __WEBPACK_IMPORTED_MODULE_0__canvas_canvas__[\"a\" /* default */]();\n    __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].context = __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].canvas.getContext();\n    __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].screenManager = new __WEBPACK_IMPORTED_MODULE_3__screen_screenManager__[\"a\" /* default */]();\n    __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].input = new __WEBPACK_IMPORTED_MODULE_5__input_inputController__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].canvas);\n    __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].util = __WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* default */];\n\n    //Put Ludic on the window in devmode\n    if (__WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].devmode) {\n      window.Ludic = __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */];\n    }\n\n    this.running = false;\n    this.lastTime = Date.now();\n\n    this._requestAnimFrame = function () {\n      return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function () {\n        console.warn('LudicApp: falling back to basic requestAnimationFrame');\n        return false;\n      }() || function (callback) {\n        window.setTimeout(callback, 1000 / 60);\n      };\n    }();\n\n    // do some binding\n    this._requestAnimFrame = this._requestAnimFrame.bind(window);\n    this._animate = this._animate.bind(this);\n  }\n\n  // override\n\n\n  _createClass(LudicApp, [{\n    key: 'update',\n    value: function update(delta) {}\n  }, {\n    key: '_animate',\n    value: function _animate(time) {\n      if (this.running) {\n        this._requestAnimFrame(this._animate);\n\n        var delta = (time - this.lastTime) / 1000;\n        this.lastTime = __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */]._time = time;\n\n        if (!Number.isNaN(delta)) {\n          __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].context.save();\n          this.update(delta, time);\n          __WEBPACK_IMPORTED_MODULE_4__ludic__[\"a\" /* default */].context.restore();\n        }\n      }\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.running = !this.running;\n      if (this.running) this._animate();\n    }\n  }, {\n    key: 'run',\n    value: function run(updateFunction) {\n      this.running = true;\n      if (updateFunction != null) {\n        this.update = updateFunction;\n      }\n      this._animate();\n    }\n  }]);\n\n  return LudicApp;\n}();\n\n/* harmony default export */ exports[\"a\"] = LudicApp;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\nvar timeTotal = 0;\nvar averageArray = [];\nvar period = 5;\nvar average;\n\nonmessage = function onmessage(event) {\n  timeTotal += event.data;\n\n  averageArray.push(event.data);\n\n  if (averageArray.length > period) {\n    timeTotal -= averageArray.shift();\n    average = timeTotal / period;\n    // return 1 / average;\n    postMessage(1 / average);\n  }\n};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n// implementation modeled from http://stackoverflow.com/a/6491621\nObject.defineProperty(Object, 'resolve', {\n  enumerable: false,\n  value: function value(path) {\n    var obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (path == null) {\n      return;\n    }\n    if (path === '') {\n      return obj;\n    }\n    path = path.replace(/\\[['\"]?(\\w+)['\"]?\\]/g, '.$1'); // convert indexes and brackets ([\"keyname\"] or ['keyname']) to properties\n    path = path.replace(/^\\./, ''); // strip a leading dot\n    var keys = path.split('.');\n    return keys.reduce(function (prev, curr) {\n      return prev ? prev[curr] : undefined;\n    }, obj);\n  }\n});\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\nPath2D.rect = function () {\n  var p = new Path2D();\n  // .rect(x, y, width, height)\n  p.rect.apply(p, arguments);\n  return p;\n};\nPath2D.arc = function () {\n  var p = new Path2D();\n  // .arc(x, y, radius, startAngle, endAngle, anticlockwise)\n  p.arc.apply(p, arguments);\n  return p;\n};\nPath2D.ellipse = function () {\n  var p = new Path2D();\n  // .ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise)\n  p.ellipse.apply(p, arguments);\n  return p;\n};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Screen = function () {\n  function Screen(options) {\n    _classCallCheck(this, Screen);\n\n    this.options = options || {};\n  }\n\n  _createClass(Screen, [{\n    key: \"_step\",\n    value: function _step(delta) {\n      for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (!this._isFinished) {\n        this.update.apply(this, arguments);\n      }\n    }\n\n    // override\n\n  }, {\n    key: \"update\",\n    value: function update(delta) {}\n  }, {\n    key: \"finish\",\n    value: function finish(data) {\n      if (!this._isFinished) {\n        this.onDestroy();\n        this._finalData = data || {};\n        this._isFinished = true;\n      }\n    }\n  }, {\n    key: \"onDestroy\",\n    value: function onDestroy() {}\n  }, {\n    key: \"onAddedToManager\",\n    value: function onAddedToManager(manager) {}\n  }, {\n    key: \"onRemovedFromManager\",\n    value: function onRemovedFromManager(manager) {}\n  }]);\n\n  return Screen;\n}();\n\n/* harmony default export */ exports[\"a\"] = Screen;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BaseSprite__ = __webpack_require__(11);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar MultiSprite = function (_BaseSprite) {\n  _inherits(MultiSprite, _BaseSprite);\n\n  function MultiSprite(image, framesX, framesY, offsetX, offsetY) {\n    _classCallCheck(this, MultiSprite);\n\n    return _possibleConstructorReturn(this, (MultiSprite.__proto__ || Object.getPrototypeOf(MultiSprite)).call(this, image, framesX, framesY, offsetX, offsetY));\n  }\n\n  _createClass(MultiSprite, [{\n    key: 'createSlice',\n    value: function createSlice(name, start, count, scale) {\n      var slice = {};\n\n      slice.ix = 0;\n      slice._ix = 0;\n      slice.start = start;\n      slice.end = start + count;\n      slice.scale = scale || 1;\n\n      slice.name = name;\n      slice.frames = this.frames.slice(start, slice.end);\n\n      console.log(slice);\n\n      this.slices[name] = slice;\n    }\n  }, {\n    key: 'createState',\n    value: function createState(name, frameIndex, sliceName) {\n      sliceName = sliceName || 'default';\n\n      var state = {};\n\n      state.name = name;\n      state.ix = frameIndex;\n      state.sliceName = sliceName;\n\n      this.states[name] = state;\n    }\n  }, {\n    key: 'parseSpriteSheet',\n    value: function parseSpriteSheet() {\n      this.slices = this.slices || {};\n      this.states = this.states || {};\n      _get(MultiSprite.prototype.__proto__ || Object.getPrototypeOf(MultiSprite.prototype), 'parseSpriteSheet', this).apply(this, arguments);\n      var slice = {\n        ix: 0,\n        start: 0,\n        end: this.frames.length - 1,\n        name: 'default',\n        frames: this.frames\n      };\n\n      this.slices[slice.name] = slice;\n      this.setSlice(slice.name);\n    }\n  }, {\n    key: 'setSlice',\n    value: function setSlice(name) {\n      this.slice = this.slices[name];\n    }\n  }, {\n    key: 'animate',\n    value: function animate(sliceName, optScale) {\n      if (sliceName) {\n        this.setSlice(sliceName);\n      }\n\n      var scale = optScale || this.slice.scale,\n          fl = this.slice.frames.length,\n          df = fl * scale,\n          _ix = this.slice._ix++;\n\n      this.slice.ix = Math.floor(_ix % df / scale);\n      if (_ix >= df) {\n        this.slice._ix = 1;\n      }\n\n      this.setFrame();\n    }\n  }, {\n    key: 'setFrame',\n    value: function setFrame(frameIndex, sliceName) {\n      frameIndex = frameIndex === undefined ? this.slice.ix : frameIndex;\n      if (sliceName) {\n        this.frame = this.slices[sliceName].frames[frameIndex];\n      } else {\n        this.frame = this.slice.frames[frameIndex];\n      }\n    }\n  }, {\n    key: 'setState',\n    value: function setState(name) {\n      var state = this.states[name];\n      this.setFrame(state.ix, state.sliceName);\n    }\n  }]);\n\n  return MultiSprite;\n}(__WEBPACK_IMPORTED_MODULE_0__BaseSprite__[\"a\" /* default */]);\n\n/* harmony default export */ exports[\"a\"] = MultiSprite;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar axesLength = 100;\n\nvar HUD = function () {\n  function HUD(camera) {\n    _classCallCheck(this, HUD);\n\n    this.camera = camera;\n    this.ctx = this.camera.context;\n\n    this.$refs = {};\n    this.elements = [];\n  }\n\n  _createClass(HUD, [{\n    key: 'update',\n    value: function update(delta) {\n      this.ctx.save();\n      this.camera.resetTransform(this.ctx);\n\n      // draw the axis for the hud system\n      this.drawAxes(delta);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var el = _step.value;\n\n          if (el.visible) {\n            el.render(delta, this.ctx);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.ctx.restore();\n    }\n  }, {\n    key: 'drawAxes',\n    value: function drawAxes(delta) {\n      this.ctx.save();\n      // this is to allow the axes to be seen\n      this.ctx.translate(this.ctx.lineWidth, this.ctx.lineWidth);\n      this.ctx.strokeStyle = 'rgb(192,0,0)';\n      this.ctx.beginPath();\n      this.ctx.moveTo(0, 0);\n      this.ctx.lineTo(axesLength, 0);\n      this.ctx.stroke();\n      this.ctx.strokeStyle = 'rgb(0,192,0)';\n      this.ctx.beginPath();\n      this.ctx.moveTo(0, 0);\n      this.ctx.lineTo(0, axesLength);\n      this.ctx.stroke();\n      this.ctx.restore();\n    }\n  }, {\n    key: 'addElement',\n    value: function addElement(element, ref) {\n      this.elements.push(element);\n      if (ref) {\n        if (!this.$refs.hasOwnProperty(ref)) {\n          this.$refs[ref] = element;\n        } else {\n          console.warn('Ref \"' + ref + '\" is already taken');\n        }\n      }\n      return this;\n    }\n  }]);\n\n  return HUD;\n}();\n\n/* harmony default export */ exports[\"a\"] = HUD;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Dialog__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_ludic__ = __webpack_require__(1);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar MenuDialog = function (_Dialog) {\n  _inherits(MenuDialog, _Dialog);\n\n  function MenuDialog(options) {\n    _classCallCheck(this, MenuDialog);\n\n    var _this = _possibleConstructorReturn(this, (MenuDialog.__proto__ || Object.getPrototypeOf(MenuDialog)).call(this, options));\n\n    _this.menuItems = [];\n\n    return _this;\n  }\n\n  _createClass(MenuDialog, [{\n    key: 'render',\n    value: function render(delta, ctx) {\n      _get(MenuDialog.prototype.__proto__ || Object.getPrototypeOf(MenuDialog.prototype), 'render', this).call(this, delta, ctx);\n\n      // render the menu items\n      ctx.save();\n      ctx.translate(this.position.x, this.position.y);\n      this.menuItems.forEach(function (item, index) {\n        item.render(delta, ctx, index);\n      });\n      ctx.restore();\n    }\n  }, {\n    key: 'addMenuItem',\n    value: function addMenuItem(item) {\n      if (item instanceof MenuDialog.MenuItem) {\n        this.menuItems.push(item);\n      } else {\n        console.warn(\"Parameter needs to be of type MenuDialog.MenuItem\");\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(MenuDialog.prototype.__proto__ || Object.getPrototypeOf(MenuDialog.prototype), 'show', this).call(this);\n      // take input control\n      this.input = __WEBPACK_IMPORTED_MODULE_1__app_ludic__[\"a\" /* default */].input.newEventListener({\n        stopPropagation: true,\n        keyConfig: {\n          'w': 'up',\n          's': 'down',\n          'esc.once.down': 'start'\n        },\n        methods: {\n          up: this.selectPreviousItem,\n          down: this.selectNextItem,\n          start: this.toggleMenuOpen\n        }\n      }, this, true);\n\n      this.selectedItemIndex = 0;\n      this.selectItem(this.selectedItemIndex);\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      _get(MenuDialog.prototype.__proto__ || Object.getPrototypeOf(MenuDialog.prototype), 'hide', this).call(this);\n      __WEBPACK_IMPORTED_MODULE_1__app_ludic__[\"a\" /* default */].input.removeEventListener(this.input);\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(index) {\n      if (this.selectedItem) {\n        this.selectedItem.deselect();\n      }\n      this.selectedItem = this.menuItems[index];\n      this.selectedItem.select();\n    }\n  }, {\n    key: 'selectNextItem',\n    value: function selectNextItem(keyDown, e) {\n      if (keyDown && !e.button.lastState.pressed) {\n        this.selectItem(++this.selectedItemIndex % this.menuItems.length);\n        // this.selectedItemIndex++;\n      }\n    }\n  }, {\n    key: 'selectPreviousItem',\n    value: function selectPreviousItem(keyDown, e) {\n      if (keyDown && !e.button.lastState.pressed) {\n        this.selectItem(this.menuItems.length - 1 - ++this.selectedItemIndex % this.menuItems.length);\n        // this.selectedItemIndex++;\n      }\n    }\n  }, {\n    key: 'toggleMenuOpen',\n    value: function toggleMenuOpen(keyDown, e) {\n      if (keyDown && !e.button.lastState.pressed) {\n        this.toggle();\n      }\n    }\n  }]);\n\n  return MenuDialog;\n}(__WEBPACK_IMPORTED_MODULE_0__Dialog__[\"a\" /* default */]);\n\n/* harmony default export */ exports[\"a\"] = MenuDialog;\n\n\nMenuDialog.MenuItem = function () {\n  function MenuItem(text) {\n    _classCallCheck(this, MenuItem);\n\n    this.text = text;\n  }\n\n  _createClass(MenuItem, [{\n    key: 'render',\n    value: function render(delta, ctx, index) {\n      ctx.save();\n      ctx.fillStyle = this.selected ? 'red' : 'white';\n      ctx.font = '22px serif';\n      ctx.fillText(this.text, 10, 59 + index * 27); // y = fontSize + 10 + distance from title = 22+10+27\n      ctx.restore();\n    }\n  }, {\n    key: 'select',\n    value: function select() {\n      this.selected = true;\n    }\n  }, {\n    key: 'deselect',\n    value: function deselect() {\n      this.selected = false;\n    }\n  }]);\n\n  return MenuItem;\n}();\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__HUDElement__ = __webpack_require__(3);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar Text = function (_HUDElement) {\n  _inherits(Text, _HUDElement);\n\n  function Text(text, x, y) {\n    var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n        _ref$fontFamily = _ref.fontFamily,\n        fontFamily = _ref$fontFamily === undefined ? 'serif' : _ref$fontFamily,\n        _ref$fontSize = _ref.fontSize,\n        fontSize = _ref$fontSize === undefined ? 12 : _ref$fontSize,\n        _ref$fontSizeUnit = _ref.fontSizeUnit,\n        fontSizeUnit = _ref$fontSizeUnit === undefined ? 'px' : _ref$fontSizeUnit,\n        _ref$color = _ref.color,\n        color = _ref$color === undefined ? 'black' : _ref$color,\n        _ref$drawStyle = _ref.drawStyle,\n        drawStyle = _ref$drawStyle === undefined ? 'fill' : _ref$drawStyle,\n        _ref$adjustOrigin = _ref.adjustOrigin,\n        adjustOrigin = _ref$adjustOrigin === undefined ? true : _ref$adjustOrigin,\n        _ref$visible = _ref.visible,\n        visible = _ref$visible === undefined ? true : _ref$visible;\n\n    _classCallCheck(this, Text);\n\n    var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this));\n\n    _this.visible = true;\n\n    _this._adjustOrigin = true;\n    _this.drawStyle = drawStyle;\n\n    _this.fontFamily = fontFamily;\n    _this.setFontSize(fontSize, fontSizeUnit);\n\n    // set the main attrs\n    _this.text = text;\n    _this.setPosition(x, y);\n    _this.color = color;\n    return _this;\n  }\n\n  _createClass(Text, [{\n    key: 'render',\n    value: function render(delta, ctx) {\n      ctx.save();\n      ctx.font = this.__fontSize + ' ' + this.fontFamily;\n\n      if (this.drawStyle === 'stroke') {\n        ctx.strokeStyle = this.color;\n        ctx.strokeText(this.text, this.x, this._adjustOrigin ? this._y + this._fontSize : this._y);\n      } else {\n        ctx.fillStyle = this.color;\n        ctx.fillText(this.text, this.x, this._adjustOrigin ? this._y + this._fontSize : this._y);\n      }\n      ctx.restore();\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(x, y) {\n      // x can also be an object with .x/.y props\n      if ((typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && y == null) {\n        var pos = x;\n        this.setPositionX(pos.x);\n        this.setPositionY(pos.y);\n      } else if (typeof x === 'number' && typeof y === 'number') {\n        this.setPositionX(x);\n        this.setPositionY(y);\n      } else {\n        console.warn('Unknown parameters passed into \"setPosition\"', arguments);\n      }\n    }\n  }, {\n    key: 'setPositionX',\n    value: function setPositionX(x) {\n      this.x = x;\n    }\n  }, {\n    key: 'setPositionY',\n    value: function setPositionY(y) {\n      this.y = y;\n    }\n  }, {\n    key: 'setFontSize',\n    value: function setFontSize(fontSize) {\n      var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.fontSizeUnit;\n\n      this.__fontSize = '' + fontSize + unit;\n      this._fontSize = parseFloat(fontSize);\n      this.fontSizeUnit = unit;\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return parseFloat(this._y);\n    },\n    set: function set(y) {\n      y = parseFloat(y);\n      this._y = y;\n    }\n  }, {\n    key: 'fontSize',\n    set: function set(fontSize) {\n      this.setFontSize(fontSize);\n    },\n    get: function get() {\n      return this._fontSize;\n    }\n  }]);\n\n  return Text;\n}(__WEBPACK_IMPORTED_MODULE_0__HUDElement__[\"a\" /* default */]);\n\n/* harmony default export */ exports[\"a\"] = Text;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ exports[\"a\"] = classTypeOf;\n\nfunction classTypeOf(typeToCheck, type) {\n  do {\n    if (typeToCheck === type) {\n      return true;\n    }\n  } while ((typeToCheck = Object.getPrototypeOf(typeToCheck)) !== Function.prototype);\n}\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__imageAsset__ = __webpack_require__(7);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar ImageAssetLoader = function () {\n  function ImageAssetLoader() {\n    _classCallCheck(this, ImageAssetLoader);\n  }\n\n  _createClass(ImageAssetLoader, [{\n    key: 'load',\n    value: function load(name, url, type, options) {\n      return new __WEBPACK_IMPORTED_MODULE_0__imageAsset__[\"a\" /* default */](name, url, type, options);;\n    }\n  }]);\n\n  return ImageAssetLoader;\n}();\n\n/* harmony default export */ exports[\"a\"] = new ImageAssetLoader();\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/** alias mapping for keyboard keys **/\n\n/* harmony default export */ exports[\"a\"] = {\n\n  // special keys\n  'enter': '13',\n  'tab': '9',\n  'delete': '8',\n  'backspace': '8',\n  'space': '32',\n  'esc': '27',\n  'escape': '27',\n\n  // modifier keys\n  'control': '17',\n  'ctrl': '17',\n  'alt': '18',\n  'option': '18', // on mac\n  'caps': '20',\n  'caps-lock': '20',\n  'capslock': '20',\n\n  'windows': '91', // windows key\n  'left-command': '91', // left command key on mac layout\n  'left-cmd': '91',\n  'search': '91', // on chromebook\n  'menu': '93', // windows menu\n  'right-command': '93', // right command key on mac layout\n  'right-cmd': '93',\n\n  // arrow keys\n  'left': '37',\n  'up': '38',\n  'right': '39',\n  'down': '40',\n\n  // alpha keys, in order of keyboard qwerty layout\n  'q': '81',\n  'w': '87',\n  'e': '69',\n  'r': '82',\n  't': '84',\n  'y': '89',\n  'u': '85',\n  'i': '73',\n  'o': '79',\n  'p': '80',\n  'a': '65',\n  's': '83',\n  'd': '68',\n  'f': '70',\n  'g': '71',\n  'h': '72',\n  'j': '74',\n  'k': '75',\n  'l': '76',\n  'z': '90',\n  'x': '88',\n  'c': '67',\n  'v': '86',\n  'b': '66',\n  'n': '78',\n  'm': '77'\n};\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PrivateProperty = function () {\n  function PrivateProperty() {\n    _classCallCheck(this, PrivateProperty);\n\n    var weakMap = new WeakMap();\n    var ctor = function ctor() {\n      return weakMap.get.apply(weakMap, arguments);\n    };\n    ctor.set = function () {\n      return weakMap.set.apply(weakMap, arguments);\n    };\n    // ctor.get = function(...getArgs){\n    //   return weakMap.get(...getArgs);\n    // }\n    ctor.get = ctor;\n    return ctor;\n  }\n\n  _createClass(PrivateProperty, [{\n    key: \"set\",\n    value: function set() {\n      var _weakMap;\n\n      (_weakMap = this.weakMap).set.apply(_weakMap, _toConsumableArray(setArgs));\n    }\n  }]);\n\n  return PrivateProperty;\n}();\n\n/* harmony default export */ exports[\"a\"] = PrivateProperty;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"LudicApp\", function() { return __WEBPACK_IMPORTED_MODULE_2__components_app_LudicApp__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_app_LudicApp__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_app_ludic__ = __webpack_require__(1);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"default\", function() { return __WEBPACK_IMPORTED_MODULE_3__components_app_ludic__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Ludic\", function() { return __WEBPACK_IMPORTED_MODULE_3__components_app_ludic__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_base_asset__ = __webpack_require__(4);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Asset\", function() { return __WEBPACK_IMPORTED_MODULE_4__components_base_asset__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"AssetManager\", function() { return __WEBPACK_IMPORTED_MODULE_5__components_base_assetManager__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_base_assetManager__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_base_camera__ = __webpack_require__(6);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Camera\", function() { return __WEBPACK_IMPORTED_MODULE_6__components_base_camera__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_base_fps__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_base_fps___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__components_base_fps__);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(exports, \"fps\", function() { return __WEBPACK_IMPORTED_MODULE_7__components_base_fps___default.a; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_base_imageAsset__ = __webpack_require__(7);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"ImageAsset\", function() { return __WEBPACK_IMPORTED_MODULE_8__components_base_imageAsset__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_canvas_canvas__ = __webpack_require__(2);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Canvas\", function() { return __WEBPACK_IMPORTED_MODULE_9__components_canvas_canvas__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"InputController\", function() { return __WEBPACK_IMPORTED_MODULE_10__components_input_inputController__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_input_inputController__ = __webpack_require__(9);\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_patches_path2D__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_patches_path2D___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_patches_path2D__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_patches_object__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_patches_object___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_patches_object__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_screen_screen__ = __webpack_require__(17);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Screen\", function() { return __WEBPACK_IMPORTED_MODULE_11__components_screen_screen__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_screen_screenManager__ = __webpack_require__(10);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"ScreenManager\", function() { return __WEBPACK_IMPORTED_MODULE_12__components_screen_screenManager__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_sprite_BaseSprite__ = __webpack_require__(11);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"BaseSprite\", function() { return __WEBPACK_IMPORTED_MODULE_13__components_sprite_BaseSprite__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__components_sprite_MultiSprite__ = __webpack_require__(18);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"MultiSprite\", function() { return __WEBPACK_IMPORTED_MODULE_14__components_sprite_MultiSprite__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__components_ui_Hud__ = __webpack_require__(19);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"HUD\", function() { return __WEBPACK_IMPORTED_MODULE_15__components_ui_Hud__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__components_ui_HUDElement__ = __webpack_require__(3);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"HUDElement\", function() { return __WEBPACK_IMPORTED_MODULE_16__components_ui_HUDElement__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__components_ui_Text__ = __webpack_require__(21);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Text\", function() { return __WEBPACK_IMPORTED_MODULE_17__components_ui_Text__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__components_ui_Dialog__ = __webpack_require__(12);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Dialog\", function() { return __WEBPACK_IMPORTED_MODULE_18__components_ui_Dialog__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_ui_MenuDialog__ = __webpack_require__(20);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"MenuDialog\", function() { return __WEBPACK_IMPORTED_MODULE_19__components_ui_MenuDialog__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__components_util_util__ = __webpack_require__(0);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Util\", function() { return __WEBPACK_IMPORTED_MODULE_20__components_util_util__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__components_util_utilities__ = __webpack_require__(22);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, \"classTypeOf\", function() { return __WEBPACK_IMPORTED_MODULE_21__components_util_utilities__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__components_engine_Vector2__ = __webpack_require__(8);\n/* harmony reexport (binding) */ __webpack_require__.d(exports, \"Vector2\", function() { return __WEBPACK_IMPORTED_MODULE_22__components_engine_Vector2__[\"a\"]; });\n\n// app\n\n\n\n// base\n\n\n\n\n\n\n// canvas\n\n\n// input\n\n\n// patches\n/*\n  patches that are prototype extensions, just import here\n  patches that require a parameter (monkey patch) export function name with prefix `Patch`\n    i.e. export {default as PatchFixSomeClass} from './components/patches/fixSomeClass'\n*/\n\n\n\n// screen\n\n\n\n// sprite\n\n\n\n// ui\n\n\n\n\n\n\n// util\n\n\n\n// vectors\n\n\n/***/ }\n/******/ ]);\n});\n//# sourceMappingURL=main.js.map\n\n\n// WEBPACK FOOTER //\n// ../ludic/dist/main.js","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.ludic-canvas {\\n  display: block;\\n  margin: auto;\\n  outline: none;\\n  border: 1px solid black;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./src/components/ludicAppComponent.vue?3de0c2e1\"],\"names\":[],\"mappings\":\";AAgEA;EACA,eAAA;EACA,aAAA;EACA,cAAA;EACA,wBAAA;CACA\",\"file\":\"ludicAppComponent.vue\",\"sourcesContent\":[\"<template lang=\\\"html\\\">\\n  <div class=\\\"ludic-app-container\\\">\\n    <slot>\\n      <canvas ref=\\\"canvas\\\" id=\\\"ludic-canvas\\\" class=\\\"ludic-canvas\\\" :width=\\\"width\\\" :height=\\\"height\\\" :tabindex=\\\"tabindex\\\"></canvas>\\n    </slot>\\n  </div>\\n</template>\\n\\n<script>\\nimport {LudicApp} from 'ludic'\\nexport default {\\n  name: \\\"LudicAppComponent\\\",\\n  props: {\\n    /* LudicApp properties */\\n    // optionally pass a sub-classed LudicApp class to be instantiated\\n    app: {default: ()=>LudicApp},\\n    // optionally pass an update function to be used by the LudicApp\\n    update: {default: undefined},\\n    // optionally pass config options to be used by the LudicApp constructor\\n    config: {default: ()=>{}},\\n\\n    /* ludic-app-container properties */\\n    // width and height of the canvas in the container\\n    width: {type: Number, default: 600},\\n    height: {type: Number, default: 338},\\n    // optionally set the tabindex used by the canvas element\\n    tabindex: {type: String, default: '1'},\\n    // optionally choose not to automatically run the app after its instantiated\\n    runApp: {type: Boolean, default: true},\\n  },\\n  data(){\\n    return {\\n      defaultConfig: {\\n      },\\n    }\\n  },\\n  computed: {\\n    cfg(){\\n      return Object.assign({\\n        // 'el' can be a selector or the HTMLElement itself\\n        el: this.$refs.canvas,\\n      },this.defaultConfig,this.config)\\n    },\\n  },\\n  mounted(){\\n    this._app = new this.app(this.cfg);\\n    this.$emit('app-ready', this._app);\\n    if(this.runApp){\\n      this._app.run(this.defaultUpdate);\\n    }\\n  },\\n  methods: {\\n    defaultUpdate(...args){\\n      if(this.update){\\n        this.update(...args);\\n      } else {\\n        this._app.update(...args)\\n      }\\n    },\\n  }\\n}\\n</script>\\n\\n<style lang=\\\"css\\\">\\n.ludic-canvas {\\n  display: block;\\n  margin: auto;\\n  outline: none;\\n  border: 1px solid black;\\n}\\n</style>\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-f08948b0!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ludicAppComponent.vue\n// module id = 3\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 4\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ludic-app-container\"\n  }, [_vm._t(\"default\", [_c('canvas', {\n    ref: \"canvas\",\n    staticClass: \"ludic-canvas\",\n    attrs: {\n      \"id\": \"ludic-canvas\",\n      \"width\": _vm.width,\n      \"height\": _vm.height,\n      \"tabindex\": _vm.tabindex\n    }\n  })])], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-f08948b0\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-f08948b0!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ludicAppComponent.vue\n// module id = 5\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\tvar sourceMap = obj.sourceMap;\n\n\tif (media) {\n\t\tstyleElement.setAttribute(\"media\", media);\n\t}\n\n\tif (sourceMap) {\n\t\t// https://developer.chrome.com/devtools/docs/javascript-debugging\n\t\t// this makes source maps inside style tags work properly in Chrome\n\t\tcss += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */';\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader/addStyles.js\n// module id = 6\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-f08948b0!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ludicAppComponent.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-f08948b0!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ludicAppComponent.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-f08948b0!./../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ludicAppComponent.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=data-v-f08948b0!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ludicAppComponent.vue\n// module id = 7\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 8\n// module chunks = 0","import LudicAppComponent from './components/ludicAppComponent'\nexport default class LudicVue {\n  static install(Vue){\n    Vue.component('ludic-app', LudicAppComponent)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}